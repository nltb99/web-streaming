{"version":3,"sources":["assets/img/page/show_right_side_panel_48px.png","assets/img/page/show_left_side_panel_48px.png","assets/sounds/donate.mp3","assets/images/brand.png","../node_modules/peerjs/dist sync","assets/images/Avatar.png","assets/images/face_.png","assets/img/3.png","utils/Urls.js","utils/Helper.js","store/CredentialController.js","store/RoomController.js","components/controls/EventEmitter.js","components/stream/chat/ChatBox.js","components/stream/Streamer.js","components/controls/Sound.js","components/controls/Toast.js","components/controls/Loading.js","components/controls/Page404.js","components/stream/Viewer.js","store/UserController.js","components/Home.js","components/controls/Header.js","components/controls/Confirm.js","components/controls/ResetPassword.js","components/controls/Footer.js","store/PaymentController.js","components/payment/Purchase.js","components/payment/StripeContainer.js","components/payment/PurchaseOptions.js","components/donation/Donation.js","components/videostorage/VideoStorage.js","components/videostorage/Video.js","components/listusers/ListUsers.js","components/profile/update_video.js","components/profile/Profile.js","components/controls/Particles.js","App.js","index.js","store/configureStore.js"],"names":["module","exports","webpackEmptyContext","req","e","Error","code","keys","resolve","id","HOST","CONNECTION_PORT","HOST_IMAGE","HOST_AVATAR","getToken","useHeader","jwt","localStorage","getItem","JSON","parse","getParamUrl","key","URLSearchParams","window","location","search","get","delayFunc","func","wait","immediate","timeout","context","this","args","arguments","callNow","clearTimeout","setTimeout","apply","COLORS","randColor","Math","random","length","initialState","userInfo","reducer","state","action","type","OnUserLogin","data","a","options","method","headers","body","stringify","fetch","request","json","response","OnUserRegister","OnSendMailReset","OnUpdatePassword","GetUserInfo","console","log","FetchUserInfo","token","Array","isArray","setItem","clear","sessionStorage","isLoggedIn","roomTags","roomsOnline","RoomAPI","dispatch","getState","OnRoomStart","roomData","OnRoomEnd","GetRoomInfo","OnSnapThumbnail","OnSaveRecordVideo","param","recordData","formData","FormData","append","name","title","eventEmitter","EventEmitter","Emitter","on","event","fn","once","off","emit","payload","Object","freeze","socket","local_stream","player","snapInternal","peer","Sound","useSound","donateSound","onPlay","refButton","useRef","useEffect","current","click","ref","onClick","style","display","playDonateSound","configs","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","Toast","message","customConfigs","assign","toast","info","success","warn","error","dark","pauseOnFocusLoss","newestOnTop","rtl","showToast","override","css","useState","isLoading","setIsLoading","boolean","color","loading","size","showLoading","Page404","text","pointerEvents","className","alignItems","justifyContent","height","ChatBox","roomName","userChat","messages","inputValues","setMutate","io","push","document","querySelector","scrollTo","scrollHeight","flexDirection","overflowY","AlwaysScrollToBottom","marginBottom","background","border","outline","width","padding","borderRadius","boxShadow","placeholder","value","onChange","target","onKeyUp","trim","colorRand","createdAt","moment","sendMessage","openSelectedProfile","nickname","open","GET_CURRENT_USER_PROFILE","map","idx","helloText","cursor","fontWeight","welcomeText","wordBreak","format","animatedComponents","makeAnimated","getUserMedia","navigator","webkitGetUserMedia","mozGetUserMedia","Streamer","canvas","chatBox","setChatBoxState","setUserInfo","tags","setTags","setRoomTags","viewers","setViewers","isPlayedVideo","setIsPlayedVideo","room","setRoom","loggedIn","setLoggedIn","useDispatch","videoStatus","roomInfo","visibleModal","setVisibleModal","isReadyToRecord","setReadyToRecordState","isFinishRecord","setFinishRecordState","history","useHistory","avatarRef","onChangeForm","stateName","setLocalStream","stream","snapVideo","getElementById","srcObject","play","then","snap","onStartStream","description","user_id","thumbnail","result","status","Peer","video","audio","onEndStream","call","answer","conn","streamer","streamer_id","room_id","msgToast","msgChatbox","isDonate","setInterval","createElement","getContext","drawImage","toBlob","blob","reader","FileReader","readAsDataURL","onloadend","base64String","fileName","imageBase64","callEffect","role_user","href","idUser","currentViewers","updateVideoInfo","recordedData","record","reset","onload","msg","closeRoomInfoModal","initVideo","videojs","controls","fluid","plugins","maxLength","convertEngine","listen","reload","clearInterval","dispose","zIndex","onBeforeunload","preventDefault","minWidth","minHeight","maxHeight","margin","paddingLeft","marginTop","fontSize","marginRight","created_at","endOf","fromNow","top","left","right","opacity","src","require","alt","center","onClose","maxWidth","URL","createObjectURL","DEFAULT_THUMBNAIL","objectFit","files","defaultValue","closeMenuOnSelect","components","isMulti","SubscribeChannel","OnSaveAvatar","GetProfileUser","host_id","OnUpdateAvatar","OnUpdateRole","GetHistoryDonate","userId","GetAllUsers","Viewer","setRoomInfo","setLoading","_","onPlayVideo","infoRoom","onSetLoading","setRemoteStream","err","onSubcribe","follower_id","isSubscribed","room_name","pathname","match","room_status","poster","photo","tag","label","likes","Home","videos","setVideos","decodeURI","Fragment","to","rel","DEFAULT_AVATAR","fontStyle","idxTag","Header","dataModal","setDataModal","iconSearch","setIconSearch","isLogged","setIsLogged","username","password","email","setInputValues","onOpenLoginModal","onChangeModalType","onLogin","user_info","onRegister","test","onSearch","encodeURI","onUpdateRoleStatus","onResetPassword","host_origin","origin","replace","pathName","keyCode","borderTopLeftRadius","borderBottomLeftRadius","data-toggle","borderRight","borderTopRightRadius","borderBottomRightRadius","yesFunc","confirmAlert","buttons","noFunc","onSubmit","textAlign","required","ResetPassword","setJwt","onChangePass","confirmpassword","Footer","borderTop","overflow","flexWrap","BrandImage","lineHeight","OnPurchaseToken","OnDonateToken","GetOptionsPurchase","CARD_OPTIONS","iconStyle","base","iconColor","fontFamily","fontSmoothing","invalid","Purchase","stripe","useStripe","elements","useElements","handleSubmit","createPaymentMethod","card","getElement","CardElement","paymentMethod","currency","amount","ceil","close","disabled","stripeTestPromise","loadStripe","StripeContainer","PurchaseOptions","setOptions","onChangeOption","option","marginLeft","VideoStorage","gridTemplateColumns","gridGap","widht","slice","startOf","idVideo","setIdVideo","autoPlay","ListUser","users","setUsers","user","Update_Video","index","updateTitleVideo","videoInfo","setVideoInfo","show","setShow","handleClose","updateVideo","video_id","left_info","formGroup","textinput","UserLogin","initPathName","Profile","avatarUrl","setAvatarUrl","initNickname","setInitNickname","profileInfo","setProfileInfo","donateHistory","setDonateHistory","onSaveProfile","getAllVideo","ok","deleteVideos","onSwitchTab","hashId","logIn","params","hash","role","aria-controls","aria-selected","aria-labelledby","left_info_container","fullname","hidden","bio","right_info","overview","overview_title","overview_value","followers","keyField","columns","donateHistoryTableColumns","pagination","paginationFactory","donateHistoryOptions","hover","condensednoDataIndication","dataField","paginationSize","pageStartIndex","alwaysShowAllBtns","withFirstAndLast","hideSizePerPage","hidePageListOnlyOnePage","firstPageText","lastPageText","showTotal","disablePageTitle","sizePerPageList","Donation","onDonate","quantity","viewer","receiver","disableDonate","htmlFor","Canvas","dims","setDims","updateWindowDimensions","addEventListener","removeEventListener","innerWidth","innerHeight","App","path","component","Loading","Particles","exact","ListUsers","Video","store","reducers","RoomController","credentials","CredentialController","middleware","thunk","routerMiddleware","enhancers","rootReducer","combineReducers","routing","routerReducer","createStore","compose","applyMiddleware","configureStore","ReactDOM","render"],"mappings":"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","file":"static/js/main.a90d55e1.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAB9UlEQVRYCe1ZPUsDQRC927tCBE1hI0pAbAP+CTtNFZvjAvkBKawVe7W3SZ2QkMZKbf0PIb3xg4iNYFJZ5C6+heQI581I4LJrMWGGnd3Z3Xnz5u6KiePITxgQBoQBmwy4fwUPgqDoed4F9pWhW9A16CrlG5d/Qu+iKLrsdrtvsElhE6hWq4c4eQstQG3Il1LqpNVqPVLByQTA/B6Y7+HgJtSmjIDjoNlsvmaBUFmLes33/XOMtsEDglOI4/hMG1lKJjCdTo+zDthY47D4DKBtxpeH6x7P9yme78H8sjAM95VSNwB8NF+bjbuz8ddAVgA7PejKBF+Y+iJ4HajT6TzFcVzXdkpJLFwCqTvynVKfRyTxskwkawksA5LbKwlw7JjwSQVMsMzFkApw7JjwSQVMsMzFkApw7JjwSQVMsMzFkApw7JjwSQVMsMzFkApw7JjwSQVMsMzFsFaBWq2W2etBS7PIAU77uASi9OY85+gLNYIg2Fm8UyeFlmZjcW1mk1i4ztwHDmeyhPU8pIym7RAd8OQuJJXYKWOYmidTsgKu6z4kuywbHBYygclkcgXcY6htGaFfek2BIBNA6+/ZcZwKdAS1JfoPjgr134AGRTZNtbPf7w9KpVIbDKxjrl+4DYwm5B1B2ngnQvRKe7BFhAFhQBj4pwz8APVWaxZpmc7WAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAAB9ElEQVRYCe1ZP0/CUBBvXzsYE2VwMRoT40ril3BTJlyakvABGJw17uruwgyBsDipq9+BsIt/gnExEScHWvy9kBKEXn0M1+dw5K7vuHfv/vyu7XB1HPkJAoKAIGATAfev4EEQ7Hiedw67EngDvALmpG84/wDfRlF00el0XiGTlFlApVI5wMkbcAFsgz6VUsfNZvOBCk4WAOR3gXwXB9fBNmmIPPYbjcZLWhIqTal1vu+fYbWdPFJwCnEcn2ohjckCxuPxUdoBG7qsXPyMhDZT9u5wT57gnuwne2EY7imlrhHkMNExrNuUT7IDOOCBfxHeCrXZ5PVmu91+jOO4pmVGXsgliZVVQGIzXalXGop4nhrlLCxVQM65GYWTAoxgYjSSDjCCa+RaOmAEE6ORdIARXCPX0gEjmBiNpAOM4Bq5lg4YwcRoJB1gBNfItXTACCZGI+kAI7hGrpfqQLVaTZ3PYAy5YxSNwSirgGg+HuZC9SAItmb1uiiMIeuzOgZ5IZckRtZk7h1G84iXMGgdYGqNrQmhqInAex1Q7skOuK57Tx3KW5+VC1nAaDS6RKJfYNs0xOz1ikqCLABjxCfHccrgIdgW6Q8cZerbgE6KHJrqzV6v1y8Wiy0gsIr/+uFdw5oHvSFIC89XiLlrF7KQICAICAL/FIEfMKVrFh2WgR0AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/donate.e6202de5.mp3\";","module.exports = __webpack_public_path__ + \"static/media/brand.ea52cb6a.png\";","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 386;","module.exports = __webpack_public_path__ + \"static/media/Avatar.5cab294f.png\";","module.exports = __webpack_public_path__ + \"static/media/face_.2b634f63.png\";","module.exports = __webpack_public_path__ + \"static/media/3.d538b3ce.png\";","// * HOST\nexport const HOST = 'https://bavk-api.herokuapp.com'\nexport const CONNECTION_PORT = 'https://bavk-api.herokuapp.com'\n// export const HOST = 'http://localhost:3002'\n// export const CONNECTION_PORT = 'http://localhost:3002'\n// * Brand Name\nexport const BRAND = 'BAVK'\n// * ASSETS\nexport const HOST_IMAGE = HOST + '/api/image'\nexport const HOST_VIDEO = HOST + '/api/video'\nexport const HOST_AVATAR = HOST + '/api/avatar/'\n// * Room\nexport const ROOMS_ONLINE = HOST + \"/api/stream/rooms\"\nexport const ROOM_INFO = HOST + \"/api/stream/room_info\"\nexport const ROOM_TAGS = HOST + \"/api/stream/tags\"\nexport const ROOM_ON_START = HOST + \"/api/stream/on_start\"\nexport const ROOM_ON_END = HOST + \"/api/stream/on_end\"\nexport const ROOM_SNAP_THUMBNAIL = HOST + \"/api/stream/snap\"\nexport const ROOM_SAVE_RECORD = HOST + \"/api/stream/save_record\"\nexport const ROOM_SAVE_RECORD_SNAP = HOST + \"/api/stream/save_record_snap\"\nexport const ROOM_GET_VIDEOS = HOST + \"/api/stream/videos\"\nexport const ROOM_GET_ALL_VIDEOS = HOST + \"/api/stream/videos_all\"\nexport const DELETE_VIDEO = HOST + \"/api/stream/delete_video\"\nexport const UPDATE_VIDEO = HOST + \"/api/stream/update_video\"\nexport const ROOM_LIKE = HOST + \"/api/stream/like\"\n// * User\nexport const USER_SUBSCRIBE = HOST + \"/api/user/subscribe\"\nexport const USER_GETINFO = HOST + \"/api/user/user_info\"\nexport const USER_SAVE_AVATAR = HOST + \"/api/user/save_avatar\"\nexport const USER_GET_PROFILE = HOST + \"/api/user/profile\"\nexport const USER_UPDATE_PROFILE = HOST + \"/api/user/update_profile\"\nexport const USER_UPDATE_ROLE = HOST + \"/api/user/update_role\"\nexport const USER_DONATE_HISTORY = HOST + \"/api/user/donate_history\"\nexport const USER_GET_ALL = HOST + \"/api/user/all_users\"\n// * Payment \nexport const PAYMENT_PURCHASE = HOST + \"/api/payment/purchase_token\"\nexport const PAYMENT_OPTIONS = HOST + \"/api/payment/options_purchase\"\n// * Credential\nexport const USER_LOGIN = HOST + \"/api/credential/login\"\nexport const USER_REGISTER = HOST + \"/api/credential/register\"\nexport const USER_UPDATE_PASSWORD = HOST + \"/api/credential/update_password\"\nexport const USER_GET_JWT = HOST + \"/api/payment/get_jwt_reset\"\nexport const PAYMENT_DONATE = HOST + \"/api/payment/donate_token\"\n\nexport const GET_CURRENT_USER_PROFILE = (nickname) => '/profile/' + nickname","\nexport const getCookie = (name) => {\n    const cookieArr = document.cookie.split(\";\");\n    for (let i = 0, lenCookieArr = cookieArr.length; i < lenCookieArr; i++) {\n        const cookiePair = cookieArr[i].split(\"=\");\n        if (name == cookiePair[0].trim()) {\n            return decodeURIComponent(cookiePair[1]);\n        }\n    }\n    return null;\n}\nexport const getToken = (useHeader) => {\n    try {\n        const jwt = localStorage.getItem('jwt')\n        if (jwt) {\n            return `${useHeader ? \"Bearer \" : \"\"}${JSON.parse(jwt)}`\n        }\n    } catch (e) { }\n    return null\n}\nexport const getParamUrl = (key) => {\n    const searchParams = new URLSearchParams(window.location.search);\n    return searchParams.get(key)\n}\nexport function customQuery(query) {\n    if (!query) {\n        return { match_all: {} };\n    }\n    return { multi_match: { query, type: \"phrase\", fields: [\"email\", \"fullname\", \"photo\", \"name\"] } };\n}\n\nexport const delayFunc = (func, wait, immediate) => {\n    let timeout;\n    return function () {\n        let context = this, args = arguments;\n        let callNow = immediate && !timeout;\n        clearTimeout(timeout);\n        timeout = setTimeout(function () {\n            timeout = null;\n            if (!immediate) {\n                func.apply(context, args);\n            }\n        }, wait);\n        if (callNow) func.apply(context, args);\n    }\n}\nconst COLORS = ['#32CD32', '#FF5F1F', '#4F7942', '#F88379', '#4169E1', '#770737',\n    '#32CD32', '#0F52BA', '#4682B4', '#FF4433', '#9F2B68', '#FA5F55', '#FA8072', '#FFAA33',\n    '#F4BB44', '#088F8F', '#097969', '#228B22', '#40B5AD', '#6495ED', '#0818A8', '#E3735E', '#FF3131']\n\nexport const randColor = () => {\n    return COLORS[(Math.random() * COLORS.length) | 0];\n}\nexport const url = \"/\";\n","import { USER_LOGIN, USER_REGISTER, USER_GETINFO, USER_GET_JWT, USER_UPDATE_PASSWORD, } from '../utils/Urls'\nimport { getToken } from '../utils/Helper'\n\nconst initialState = {\n    userInfo: {},\n}\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'SAVE_USERINFO': {\n            return {\n                ...state,\n                userInfo: action.userInfo,\n            }\n        }\n        default:\n            return state;\n    }\n};\nexport const OnUserLogin = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n    };\n    const request = await fetch(USER_LOGIN, options)\n    const response = await request.json()\n    return response\n}\nexport const OnUserRegister = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n    };\n    const request = await fetch(USER_REGISTER, options)\n    const response = await request.json()\n    return response\n}\nexport const OnSendMailReset = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n    };\n    const request = await fetch(USER_GET_JWT, options)\n    const response = await request.json()\n    return response\n}\nexport const OnUpdatePassword = async (data, jwt) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Authorization': 'Bearer ' + jwt,\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n    };\n    const request = await fetch(USER_UPDATE_PASSWORD, options)\n    const response = await request.json()\n    return response\n}\nexport const GetUserInfo = async () => {\n    try {\n        let userInfo = await localStorage.getItem(\"user_info\")\n        if (userInfo) {\n            userInfo = await JSON.parse(userInfo)\n            return userInfo || {}\n        } else return {}\n    } catch (e) {\n        console.log(e)\n        return {}\n    }\n}\nexport const FetchUserInfo = async () => {\n    try {\n        const token = getToken(true)\n        if (token !== null) {\n            const options = {\n                method: 'GET',\n                headers: {\n                    'Content-Type': 'application/json',\n                    \"Authorization\": token,\n                },\n            };\n            const request = await fetch(USER_GETINFO, options)\n            const response = await request.json()\n            const userInfo = Array.isArray(response?.data) ? {} : response?.data || {}\n            localStorage.setItem('user_info', JSON.stringify(userInfo))\n            return response?.data || {}\n        } else {\n            localStorage.clear()\n            sessionStorage.clear()\n            return {}\n        }\n    } catch (e) {\n        console.log(e)\n        return {}\n    }\n}\nexport const isLoggedIn = () => {\n    return getToken() !== null\n}\n\n","import { ROOM_TAGS, ROOMS_ONLINE, ROOM_ON_START, ROOM_ON_END, ROOM_INFO, ROOM_SNAP_THUMBNAIL, ROOM_SAVE_RECORD, } from '../utils/Urls'\nimport { GetUserInfo } from \"./CredentialController\";\n\nconst initialState = {\n    roomTags: [],\n    roomsOnline: [],\n}\nexport const RoomAPI = {\n    GetRoomTags: () => async (dispatch, getState) => {\n        const options = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n        };\n        const request = await fetch(ROOM_TAGS, options)\n        const roomTags = await request.json()\n        dispatch({ type: 'GET_ROOM_TAGS', roomTags });\n        return roomTags\n    },\n    GetRoomsOnline: (data) => async (dispatch, getState) => {\n        const options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data)\n        };\n        const request = await fetch(ROOMS_ONLINE, options)\n        const roomsOnline = await request.json()\n        dispatch({ type: 'GET_ROOMS_ONLINE', roomsOnline });\n        return roomsOnline\n    },\n};\nexport const OnRoomStart = async (roomData) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(roomData)\n    };\n    const request = await fetch(ROOM_ON_START, options)\n    const response = await request.json()\n    return response\n}\nexport const OnRoomEnd = async (roomData) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(roomData)\n    };\n    const request = await fetch(ROOM_ON_END, options)\n    const response = await request.json()\n    return response\n}\nexport const GetRoomInfo = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n    };\n    const request = await fetch(ROOM_INFO, options)\n    const response = await request.json()\n    return response\n}\nexport const OnSnapThumbnail = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    };\n    const request = await fetch(ROOM_SNAP_THUMBNAIL, options)\n    const response = await request.json()\n    return response\n}\nexport const OnSaveRecordVideo = async (param) => {\n    const { recordData, userInfo } = param;\n    const formData = new FormData();\n    formData.append('video', recordData, recordData.name);\n    const options = {\n        method: 'POST',\n        headers: {\n            title: param.title,\n            'user_id': userInfo.id,\n            'filename': `${userInfo.id}_${recordData.name}`\n        },\n        body: formData,\n    };\n    const request = await fetch(ROOM_SAVE_RECORD, options)\n    const response = await request.json()\n    return response\n}\nexport const reducer = (state = initialState, action) => {\n    switch (action.type) {\n        case 'GET_ROOM_TAGS': {\n            return {\n                ...state,\n                roomTags: action.roomTags,\n            }\n        }\n        case 'GET_ROOMS_ONLINE': {\n            return {\n                ...state,\n                roomsOnline: action.roomsOnline,\n            }\n        }\n        default:\n            return state;\n    }\n};","import EventEmitter from 'eventemitter3';\nconst eventEmitter = new EventEmitter();\nconst Emitter = {\n    on: (event, fn) => eventEmitter.on(event, fn),\n    once: (event, fn) => eventEmitter.once(event, fn),\n    off: (event, fn) => eventEmitter.off(event, fn),\n    emit: (event, payload) => eventEmitter.emit(event, payload),\n};\nObject.freeze(Emitter);\nexport default Emitter;","import React, { useState, useEffect } from \"react\";\nimport io from \"socket.io-client\";\nimport { CONNECTION_PORT, GET_CURRENT_USER_PROFILE } from '../../../utils/Urls'\nimport { randColor, } from '../../../utils/Helper'\nimport moment from 'moment'\nimport { showToast } from '../../controls/Toast'\nlet socket;\n\nexport const ChatBox = ({ roomName, userChat, }) => {\n    const [messages, set_] = useState([]);\n    const [inputValues, set__] = useState({});\n    const [_, setMutate] = useState(false)\n\n    const onChangeForm = (value, stateName) => {\n        inputValues[stateName] = value\n        setMutate(e => !e)\n    }\n    const pushToBottom = () => {\n        document.querySelector(\"#chatbox_scroll_frame\").scrollTo(0, document.querySelector(\"#chatbox_scroll_frame\").scrollHeight);\n    }\n    useEffect(() => {\n        socket = io(CONNECTION_PORT);\n        socket.emit('join', ({ userChat, roomName }));\n        socket.on('message', (payload) => {\n            try {\n                messages.push(payload)\n                setMutate(e => !e)\n                pushToBottom()\n            } catch (e) { console.log(e) }\n        });\n        socket.on('error', ({ message }) => {\n            showToast('error', message)\n        });\n    }, []);\n    const sendMessage = () => {\n        if (inputValues?.message?.trim()?.length === 0) { return; }\n        const { message } = inputValues\n        socket.emit('sendMessage', { message, userChat, roomName, colorRand: randColor(), createdAt: moment() });\n        inputValues['message'] = ''\n    }\n    return (\n        <div style={{ height: '100%', display: 'flex', flexDirection: 'column', justifyContent: 'space-between', overflowY: 'scroll', }}>\n            <div id=\"chatbox_scroll_frame\" className='px-3' style={{ height: '89%', overflowY: \"scroll\" }}>\n                {AlwaysScrollToBottom({ messages: messages, roomName: roomName })}\n            </div>\n            <div className='px-3' style={{ marginBottom: 10, background: \"transparent\" }}>\n                <input className='mt-2 text-light shadow text_primary'\n                    style={{ background: 'rgba(66,68,73,0.7)', border: 'none', outline: \"none\", width: '100%', padding: 10, height: 40, borderRadius: 5, boxShadow: '0px 0px 3px black' }}\n                    placeholder=\"Chat...\"\n                    value={inputValues.message || \"\"}\n                    onChange={(e) => onChangeForm(e.target.value, \"message\")}\n                    onKeyUp={(e) => e.key === 'Enter' && sendMessage()} />\n            </div>\n        </div>\n    );\n}\n\nexport const AlwaysScrollToBottom = ({ messages, roomName }) => {\n    const openSelectedProfile = (nickname) => {\n        window.open(GET_CURRENT_USER_PROFILE(nickname))\n    }\n    return (\n        messages.map((e, idx) => {\n            return (\n                <div key={idx}>\n                    {e.helloText !== undefined &&\n                        <div className='text-center py-2 text_primary'>\n                            <span>{e.helloText}</span>\n                            <span style={{ cursor: \"pointer\", fontWeight: \"bold\" }} onClick={() => openSelectedProfile(roomName)}>{roomName} </span>\n                            <span> room</span>\n                        </div>}\n                    {e.welcomeText !== undefined &&\n                        <div className='text-secondary text_primary'>\n                            <span style={{ cursor: \"pointer\", fontWeight: \"bold\" }} onClick={() => openSelectedProfile(e.userChat)}>{e.userChat}</span>\n                            <span>{e.welcomeText}</span>\n                        </div>}\n                    {e.message !== undefined &&\n                        <div className='py-2' style={{ wordBreak: 'break-all' }}>\n                            <div className=\"text_primary\">\n                                <span style={{ cursor: \"pointer\", fontWeight: \"bold\", color: e.colorRand }}\n                                    onClick={() => openSelectedProfile(e.userChat)}>\n                                    {e.userChat} ({moment(e.createdAt).format('LT')})\n                                </span>: <span>{e.message}</span>\n                            </div>\n                        </div>\n                    }\n                </div>\n            )\n        })\n    )\n}","import React, { useState, useEffect, useRef, } from \"react\";\nimport io from \"socket.io-client\";\nimport { RoomAPI, OnRoomStart, OnRoomEnd, OnSnapThumbnail, OnSaveRecordVideo, GetRoomInfo } from '../../store/RoomController'\nimport { GetUserInfo, } from '../../store/CredentialController'\nimport { CONNECTION_PORT, ROOM_SAVE_RECORD_SNAP, } from '../../utils/Urls'\nimport { playDonateSound, } from '../controls/Sound'\nimport { FaRegEye, FaHandPointRight, FaClock, } from \"react-icons/fa\";\nimport Peer from 'peerjs';\nimport { showToast } from '../controls/Toast'\nimport { showLoading } from '../controls/Loading'\nimport Page404 from '../controls/Page404'\nimport { Modal } from \"react-responsive-modal\";\nimport { useDispatch, } from 'react-redux';\nimport makeAnimated from 'react-select/animated';\nimport Select from 'react-select'\nimport { ChatBox } from './chat/ChatBox';\nimport DEFAULT_THUMBNAIL from '../../assets/img/3.png'\nimport { delayFunc, randColor, } from '../../utils/Helper';\nimport videojs from 'video.js'\nimport { Beforeunload } from 'react-beforeunload';\nimport { useHistory } from 'react-router-dom'\nimport moment from 'moment'\nimport 'videojs-record/dist/videojs.record.js';\nimport 'videojs-record/dist/plugins/videojs.record.ts-ebml.js';\n\nconst animatedComponents = makeAnimated();\n\nlet getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\nlet socket, local_stream, player, snapInternal, peer\n\nfunction Streamer() {\n    const [chatBox, setChatBoxState] = useState(true)\n    const [inputValues, setInputValues] = useState({})\n    const [isLoading, setIsLoading] = useState(true);\n    const [userInfo, setUserInfo] = useState({})\n    const [tags, setTags] = useState([])\n    const [roomTags, setRoomTags] = useState([])\n    const [_, setMutate] = useState(false)\n    const [viewers, setViewers] = useState(0)\n    const [isPlayedVideo, setIsPlayedVideo] = useState(false)\n    const [room, setRoom] = useState({})\n    const [loggedIn, setLoggedIn] = useState(true)\n    const dispatch = useDispatch();\n    const videoStatus = useRef(0)\n    const roomInfo = useRef({})\n    const [visibleModal, setVisibleModal] = useState(false)\n    const [isReadyToRecord, setReadyToRecordState] = useState(false)\n    const [isFinishRecord, setFinishRecordState] = useState(false)\n    const history = useHistory()\n    const avatarRef = useRef(null)\n\n    const onChangeForm = (value, stateName) => {\n        inputValues[stateName] = value\n        setRoomTags(value)\n        setMutate(e => !e)\n    }\n    const setLocalStream = (stream) => {\n        let snapVideo = document.getElementById(\"snap-video\");\n        snapVideo.srcObject = stream;\n        snapVideo.play().then(snap)\n    }\n    const onStartStream = async (info) => {\n        try {\n            const { nickname, id, } = info\n            const { description, title, tags, } = inputValues\n            const roomData = {\n                user_id: id,\n                title: title || 'title',\n                description: description || 'description',\n                tags: tags ? JSON.stringify(tags) : '[]',\n                thumbnail: '',\n            }\n            const result = await OnRoomStart(roomData)\n            if (result.status === 200) {\n                peer = new Peer(nickname)\n                peer.on('open', (id) => {\n                    try {\n                        console.log(\"Peer Connected with ID: \", id)\n                        showToast('info', 'Your image is being streaming!')\n                        setIsPlayedVideo(true)\n                        socket.emit(\"open_room\", { nickname })\n                        roomInfo.current = result?.data\n                        setMutate(e => !e)\n                        getUserMedia({ video: true, audio: false }, (stream) => {\n                            local_stream = stream;\n                            setLocalStream(local_stream)\n                        }, (e) => {\n                            showToast('error', e)\n                        })\n                    } catch (e) {\n                        console.log(e)\n                        onEndStream()\n                    }\n                })\n                peer.on('call', (call) => {\n                    call.answer(local_stream);\n                })\n                peer.on('connection', function (conn) {\n                    console.log(conn, 'connection')\n                })\n            } else {\n                showToast(\"error\", \"Error start stream!\")\n                onEndStream()\n            }\n        } catch (e) { showToast(\"error\", e); onEndStream() }\n    }\n    const onEndStream = async () => {\n        const { id, streamer, streamer_id, } = roomInfo.current || {}\n        const data = {\n            room_id: id,\n            streamer_id: streamer_id,\n            status: 0,\n        }\n        await OnRoomEnd(data)\n        const msgToast = `User ${streamer} has ended the live stream`\n        const msgChatbox = `User ${streamer} has ended the live stream`\n        socket.emit(\"on_donate\", { streamer, message: msgToast, isDonate: false, })\n        socket.emit('sendMessage', { message: msgChatbox, userChat: streamer, roomName: streamer, colorRand: randColor(), createdAt: moment() });\n    }\n    const onImageChange = (event) => {\n        if (event.target.files && event.target.files[0]) {\n            inputValues.thumbnail = event.target.files[0]\n            setMutate(e => !e)\n        }\n    }\n    const snap = async () => {\n        const info = await GetUserInfo()\n        try {\n            snapInternal = setInterval(() => {\n                const video = document.getElementById(\"snap-video\");\n                const canvas = document.createElement(\"canvas\");\n                canvas.width = 500;\n                canvas.height = 500;\n                canvas.getContext('2d').drawImage(video, 0, 0, canvas.width, canvas.height);\n                canvas.toBlob((blob) => {\n                    const reader = new FileReader();\n                    reader.readAsDataURL(blob);\n                    reader.onloadend = function () {\n                        const base64String = reader.result;\n                        const data = {\n                            fileName: `${info.id}_${info.nickname}.png`,\n                            imageBase64: base64String,\n                            user_id: info.id,\n                        }\n                        OnSnapThumbnail(data)\n                    }\n                })\n            }, 2000);\n        } catch (e) { console.log(e) }\n    }\n    const callEffect = async () => {\n        showLoading(true)\n        setIsLoading(true)\n        try {\n            // * Info\n            const info = await GetUserInfo()\n            setUserInfo(info)\n            if (info.id === undefined) {\n                setLoggedIn(false)\n                showLoading(false)\n                setIsLoading(false)\n                return\n            }\n            // * Role Checking\n            if (info.role_user === \"VIEWER\") {\n                window.location.href = \"/\"\n                showLoading(false)\n                setIsLoading(false)\n                return\n            }\n            const tags = await dispatch(RoomAPI.GetRoomTags());\n            setTags(tags?.data || [])\n            const roomInfo = await GetRoomInfo({ roomName: info.nickname, idUser: info.id })\n            setRoomTags(JSON.parse(roomInfo?.data?.tags) || [])\n            setRoom(roomInfo?.data || {})\n            // * Socket\n            socket = io(CONNECTION_PORT);\n            socket.emit(\"open_donate_room\", { nickname: info.nickname })\n            socket.on('message_donate', delayFunc(({ message, isDonate, }) => {\n                if (isDonate) {\n                    showToast('dark', message, { position: \"bottom-center\" })\n                    playDonateSound()\n                }\n            }))\n            socket.on('update_viewer_watching', ({ currentViewers }) => {\n                setViewers(currentViewers)\n            })\n        } catch (e) { console.log(e) }\n        showLoading(false)\n        setIsLoading(false)\n    }\n    const updateVideoInfo = async () => {\n        if (!inputValues.title || !inputValues.thumbnail) return\n        showLoading(true)\n        try {\n            const userInfo = await GetUserInfo();\n            const param = {\n                userInfo: userInfo,\n                title: inputValues.title,\n                recordData: player.recordedData,\n            }\n            player.record().reset()\n            const result = await OnSaveRecordVideo(param)\n            if (result.status === 200) {\n                const reader = new FileReader();\n                reader.readAsDataURL(inputValues.thumbnail);\n                reader.onload = async function () {\n                    const options = {\n                        method: 'POST',\n                        headers: {\n                            'Content-Type': 'application/json',\n                        },\n                        body: JSON.stringify({\n                            user_id: userInfo.id,\n                            fileName: inputValues?.thumbnail?.name || '',\n                            imageBase64: reader.result,\n                        }),\n                    };\n                    await fetch(ROOM_SAVE_RECORD_SNAP, options)\n                    showToast('success', result.msg)\n                    setVisibleModal(false)\n                };\n            } else {\n                showToast('error', result.msg)\n            }\n        } catch (e) { console.log(e) }\n        showLoading(false)\n    }\n    const closeRoomInfoModal = async (isFinishRecord) => {\n        if (isFinishRecord) {\n            player.record().reset()\n        } else {\n            onStartStream(await GetUserInfo());\n            initVideo();\n        }\n        setVisibleModal(false);\n        setReadyToRecordState(true);\n    }\n    const startStream = () => {\n        setVisibleModal(true);\n    }\n    const initVideo = () => {\n        try {\n            const videoMaxLengthInSeconds = 60 * 60;\n            player = videojs(\"local-video\", {\n                controls: true,\n                fluid: true,\n                plugins: {\n                    record: {\n                        audio: true,\n                        video: true,\n                        maxLength: videoMaxLengthInSeconds,\n                        convertEngine: 'ts-ebml',\n                    }\n                }\n            });\n            player.on('error', function (error) {\n                console.log('error:', error);\n            });\n            player.on('play', async function () {\n                videoStatus.current = 1\n                setMutate(e => !e)\n            })\n            player.on('pause', function () {\n                console.log('pause')\n                videoStatus.current = 0\n                setMutate(e => !e)\n            })\n            player.on('suspend', function () {\n                console.log('suspend')\n                videoStatus.current = 0\n                setMutate(e => !e)\n            })\n            player.on('abort', function () {\n                console.log('abort')\n                videoStatus.current = 0\n                setMutate(e => !e)\n            })\n            player.on('finishRecord', async function () {\n                setFinishRecordState(true)\n                setVisibleModal(true)\n            });\n        } catch (e) { showToast('error', e) }\n    }\n    useEffect(() => {\n        callEffect()\n        return history.listen(() => {\n            try {\n                if (videoStatus.current === 1) {\n                    onEndStream()\n                    window.location.reload()\n                }\n                clearInterval(snapInternal)\n                player.dispose()\n            } catch (e) { }\n        })\n    }, [history]);\n    return (\n        !loggedIn && !isLoading ? (\n            <Page404 text=\"Login Required\" />\n        ) : !isLoading && (\n            <div className='container-fluid d-flex flex-row m-auto p-4' style={{ zIndex: 999, pointerEvents: 'auto', }}>\n                {isPlayedVideo && (\n                    <Beforeunload onBeforeunload={(event) => {\n                        event.preventDefault()\n                        onEndStream()\n                        window.location.reload()\n                    }} />\n                )}\n                <div className='w-100' style={{ borderRadius: 15 }}>\n                    <div className='d-flex' style={{ position: \"relative\" }}>\n                        <div style={{ display: 'flex', flexDirection: 'column', width: '100%', height: '100%', }}>\n                            <div style={{ width: '100%', height: '100%' }}>\n                                <div style={{ display: 'none' }}><video id=\"snap-video\" /></div>\n                                <video id=\"local-video\" className=\"video-js\" style={{ minWidth: '100%', minHeight: '80vh', maxHeight: '100%', margin: \"auto\" }} />\n                            </div>\n                            {isPlayedVideo && (\n                                <div style={{ background: 'rgba(33, 33, 33, 0.5)', height: 130, padding: 20, paddingLeft: 20, marginTop: 20, borderRadius: 5, display: 'flex', flexDirection: 'column', justifyContent: 'center', }}>\n                                    <span className=\"text_primary\" style={{ fontSize: 19, }}><FaHandPointRight style={{ marginRight: 10, }} />{inputValues.title || \"title\"}</span>\n                                    <span className=\"text_primary\" style={{ fontSize: 19, }}><FaClock style={{ marginRight: 10, }} /> {moment(roomInfo?.current?.created_at).endOf('min').fromNow()}</span>\n                                    <span className=\"text_primary\" style={{ fontSize: 19, }}><FaRegEye style={{ marginRight: 10, }} /> {viewers}</span>\n                                </div>\n                            )}\n                        </div>\n                        {isReadyToRecord ? null :\n                            <div className='px-3 d-flex flex-column w-100 h-100 align-items-center justify-content-center'\n                                style={{ position: \"absolute\", top: 0, left: 0, }}>\n                                <div className='p-2'>\n                                    <div><button className='w-100 btn btn-outline-primary btn-lg' onClick={() => startStream()}>Start</button></div>\n                                </div>\n                            </div>\n                        }\n                        <div onClick={() => { setChatBoxState(!chatBox) }} className={chatBox ? 'collapse' : 'text-center mx-2 py-2 text-light'}\n                            style={{ width: 30, height: 30, cursor: 'pointer', position: \"absolute\", right: 0, top: 0, opacity: 0.5 }}>\n                            <div className='d-flex'>\n                                <img className='m-auto' src={require(\"../../assets/img/page/show_right_side_panel_48px.png\")}\n                                    alt=\"\" style={{ height: 30, width: 30 }} />\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={chatBox ? 'ml-3 shadow' : 'collapse'} style={{ position: 'relative', minWidth: 300, background: 'rgb(33,33,33,0.5)', borderRadius: 10 }}>\n                    <div style={{ width: '100%', height: '100%', position: 'absolute', right: 0, top: 0 }}>\n                        <div className='d-flex flex-column' style={{ position: 'relative', height: '100%' }}>\n                            <div className='px-3'>\n                                <div className='border-bottom w-100 d-flex justify-content-end py-2'>\n                                    <div className='align-self-center'>\n                                        <img className='m-auto' src={require(\"../../assets/img/page/show_left_side_panel_48px.png\")}\n                                            alt=\"\" style={{ width: 28, cursor: \"pointer\" }}\n                                            onClick={() => { setChatBoxState(!chatBox) }} />\n                                    </div>\n                                </div>\n                            </div>\n                            {(userInfo?.nickname) ? <ChatBox roomName={userInfo.nickname} userChat={userInfo.nickname} /> : <></>}\n                        </div>\n                    </div>\n                </div>\n                <Modal open={visibleModal} center onClose={() => closeRoomInfoModal()}>\n                    <div className='row py-4 px-0' style={{ minWidth: '50vw', maxWidth: '50vw', }}>\n                        <div className='py-3' style={{ width: '100%', display: 'flex', flexDirection: 'row', alignItems: 'space-around', justifyContent: 'space-around', }}>\n                            <div className='w-75'>\n                                <input className='border form-control' value={inputValues.title} placeholder=\"Title...\"\n                                    onChange={(e) => onChangeForm(e.target.value, 'title')} />\n                            </div>\n                        </div>\n                        {isFinishRecord ?\n                            (\n                                <>\n                                    <div className='py-3' style={{ width: '100%', display: 'flex', flexDirection: 'column', alignItems: 'space-around', justifyContent: 'space-around', }}>\n                                        <div className='w-75 m-auto d-flex align-items-center'>\n                                            <div className='d-flex' style={{ width: '30%' }}><h4>Thumbnail</h4></div>\n                                            <div className='' style={{ width: '70%', display: 'flex', justifyContent: 'center', }}>\n                                                <div style={{ position: 'relative', width: 300, height: 200, }}>\n                                                    <img src={inputValues?.thumbnail ? URL.createObjectURL(inputValues?.thumbnail) : DEFAULT_THUMBNAIL} alt=\"\" style={{ width: '100%', height: '100%', borderRadius: 10, objectFit: 'cover', }} />\n                                                    <button onClick={() => avatarRef?.current?.click()} style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', opacity: 0, }} />\n                                                    <input ref={avatarRef} type=\"file\" onChange={onImageChange} style={{ display: 'none', }} />\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </>\n                            ) : (\n                                <>\n                                    <div className='py-3' style={{ width: '100%', display: 'flex', flexDirection: 'row', alignItems: 'space-around', justifyContent: 'space-around', }}>\n                                        <div className='w-75'>\n                                            <textarea className='border form-control' defaultValue={room.description}\n                                                style={{ width: '100%', height: 100, }} onChange={(e) => onChangeForm(e.target.value, 'description')} placeholder=\"Description...\" />\n                                        </div>\n                                    </div>\n                                    <div className='py-3' style={{ width: '100%', display: 'flex', flexDirection: 'row', alignItems: 'space-around', justifyContent: 'space-around', }}>\n                                        <div className='w-75'>\n                                            <div style={{ width: '100%', }}>\n                                                <Select options={tags} onChange={(e) => onChangeForm(e, 'tags')}\n                                                    closeMenuOnSelect={false} components={animatedComponents}\n                                                    isMulti placeholder='Tags...'\n                                                    value={roomTags}\n                                                />\n                                            </div>\n                                        </div>\n                                    </div>\n                                </>\n                            )\n                        }\n                        <div className='pt-3' style={{ width: '75%', display: 'flex', justifyContent: 'flex-end', margin: \"auto\" }}>\n                            <div className='pl-1'><button className='btn btn-primary' onClick={() => closeRoomInfoModal(isFinishRecord)}>Cancel</button></div>\n                            <div className='pl-1'><button className='btn btn-primary' onClick={() => isFinishRecord ? updateVideoInfo() : closeRoomInfoModal()}>Finish</button></div>\n                        </div>\n                    </div>\n                </Modal>\n            </div>\n        )\n    );\n}\nexport default Streamer;\n","import React, { useEffect, useRef, } from \"react\";\nimport Emitter from './EventEmitter'\nimport useSound from 'use-sound';\nimport donateSound from '../../assets/sounds/donate.mp3';\n\nconst Sound = () => {\n    const [onPlay] = useSound(donateSound);\n    const refButton = useRef(null)\n    useEffect(() => {\n        Emitter.on('play_audio_donate', () => {\n            refButton.current.click()\n        })\n    }, [])\n    return (\n        <button ref={refButton} onClick={onPlay} style={{ display: 'none', }} />\n    )\n}\nexport default Sound\n\nexport const playDonateSound = () => {\n    Emitter.emit(\"play_audio_donate\", {})\n}","import React, { useEffect } from \"react\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport Emitter from './EventEmitter'\n\nconst configs = {\n    position: \"top-right\",\n    autoClose: 3000,\n    hideProgressBar: true,\n    closeOnClick: true,\n    pauseOnHover: true,\n    draggable: true,\n    progress: undefined,\n}\nconst Toast = () => {\n    useEffect(() => {\n        Emitter.on('show_toast', async (data) => {\n            const { message, type, customConfigs } = data\n            Object.assign(configs, customConfigs || {})\n            switch (type) {\n                case \"info\":\n                    toast.info(message, configs);\n                    break;\n                case \"success\":\n                    toast.success(message, configs);\n                    break;\n                case \"warn\":\n                    toast.warn(message, configs);\n                    break;\n                case \"error\":\n                    toast.error(message, configs);\n                    break;\n                case \"dark\":\n                    toast.dark(message, configs);\n                    break;\n                default:\n                    toast(message, configs);\n                    break;\n            }\n        })\n    }, [])\n    return (\n        <ToastContainer position=\"top-right\" draggable\n            autoClose={3000} pauseOnFocusLoss\n            hideProgressBar closeOnClick\n            newestOnTop={false} pauseOnHover rtl={false} />\n    )\n}\nexport default Toast\n\nexport const showToast = (type, message, customConfigs) => {\n    if (typeof message !== 'string') message = JSON.stringify(message)\n    Emitter.emit(\"show_toast\", { type, message, customConfigs })\n}","import React, { useEffect, useState, } from \"react\";\nimport Emitter from './EventEmitter'\nimport PuffLoader from \"react-spinners/PuffLoader\";\nimport { css } from \"@emotion/react\";\n\nconst override = css`\n    position:fixed;\n    top:50%;\n    left:50%;\n    z-index:100000;\n    transform:translate(-50%,-50%);\n`;\n\nconst Toast = () => {\n    const [isLoading, setIsLoading] = useState(false)\n    useEffect(() => {\n        Emitter.on('show_loading', async ({ boolean }) => {\n            setIsLoading(boolean)\n        })\n    }, [])\n    return (\n        <PuffLoader color={'black'} loading={isLoading} css={override} size={50} />\n    )\n}\nexport default Toast\n\nexport const showLoading = (boolean) => {\n    Emitter.emit(\"show_loading\", { boolean })\n}","import React from 'react'\n\nconst Page404 = ({ text }) => {\n    return (\n        <div style={{ pointerEvents: 'none', }}>\n            <h2 className=\"brand_styling text_primary\" style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', height: '70vh', }}>{text || \"Not Found\"}</h2>\n        </div>\n    )\n}\nexport default Page404","import React, { useState, useEffect, } from \"react\";\nimport io from \"socket.io-client\";\nimport { GetRoomInfo, } from '../../store/RoomController'\nimport { GetUserInfo, isLoggedIn, } from '../../store/CredentialController'\nimport { SubscribeChannel, } from '../../store/UserController'\nimport Page404 from '../controls/Page404'\nimport { getToken } from '../../utils/Helper'\nimport { FaThumbsUp, FaRegGem, FaDonate, FaRegEye } from \"react-icons/fa\";\nimport { CONNECTION_PORT, HOST_IMAGE, HOST_AVATAR, ROOM_LIKE, } from '../../utils/Urls'\nimport { showToast } from '../controls/Toast'\nimport { showLoading } from '../controls/Loading'\nimport Emitter from '../controls/EventEmitter'\nimport { delayFunc } from '../../utils/Helper';\nimport { playDonateSound, } from '../controls/Sound'\nimport Peer from 'peerjs';\nimport { ChatBox } from \"./chat/ChatBox\";\nimport { Modal } from \"react-responsive-modal\";\nimport { Beforeunload } from 'react-beforeunload';\nimport { useHistory } from 'react-router-dom'\nimport moment from \"moment\";\n\nlet socket;\nlet canvas\nlet getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;\nlet local_stream;\n\nfunction Viewer() {\n    const [roomInfo, setRoomInfo] = useState({})\n    const [userInfo, setUserInfo] = useState({})\n    const [viewers, setViewers] = useState(0)\n    const [loading, setLoading] = useState(true)\n    const [chatBox, setChatBoxState] = useState(true)\n    const [isPlayedVideo, setIsPlayedVideo] = useState(false)\n    const [inputValues, set_] = useState({})\n    const [_, setMutate] = useState(false)\n    const history = useHistory()\n\n    const onChangeForm = (value, stateName) => {\n        inputValues[stateName] = value\n        setMutate(e => !e)\n    }\n    const onImageChange = (event) => {\n        if (event.target.files && event.target.files[0]) {\n            inputValues.thumbnail = URL.createObjectURL(event.target.files[0])\n            setMutate(e => !e)\n        }\n    }\n    const onPlayVideo = (infoRoom) => {\n        onSetLoading(true)\n        try {\n            const { nickname } = infoRoom\n            let peer = new Peer()\n            peer.on('open', (id) => {\n                console.log(\"Connected with Id: \" + id)\n                setIsPlayedVideo(true)\n                getUserMedia({ video: true, audio: true }, (stream) => {\n                    local_stream = stream;\n                    let call = peer.call(nickname, stream)\n                    socket.emit('user_connect_room', { roomInfo: infoRoom })\n                    call.on('stream', (stream) => {\n                        setRemoteStream(stream);\n                    })\n                }, (err) => console.log(err))\n                onSetLoading(false)\n            })\n        } catch (e) {\n            showToast('error', e)\n            onSetLoading(false)\n        }\n    }\n    const onSetLoading = (boolean) => {\n        showLoading(boolean)\n        setLoading(boolean)\n    }\n    const setRemoteStream = (stream) => {\n        const video = document.getElementById(\"remote-video\");\n        video.srcObject = stream;\n        video.play();\n    }\n    const onSubcribe = async () => {\n        if (!isLoggedIn()) {\n            Emitter.emit(\"login_required\", {})\n            return\n        }\n        const data = {\n            host_id: roomInfo.streamer_id,\n            follower_id: userInfo.id,\n            isSubscribed: roomInfo.isSubscribed,\n        }\n        const result = await SubscribeChannel(data)\n        if (result.status === 200) {\n            setRoomInfo({ ...roomInfo, isSubscribed: result?.data?.isSubscribed })\n            showToast('info', result.msg)\n        } else {\n            showToast('error', result.msg)\n        }\n    }\n    const onGotoDonatePage = () => {\n        if (!isLoggedIn()) {\n            Emitter.emit(\"login_required\", {})\n            return\n        }\n        const { streamer_id, nickname, } = roomInfo\n        window.open(`/donation?streamer_id=${streamer_id}&streamer=${nickname}&viewer=${userInfo.nickname}&q=${getToken()}`, '_blank');\n    }\n    const callEffect = async () => {\n        onSetLoading(true)\n        try {\n            const info = await GetUserInfo()\n            setUserInfo(info)\n            const room_name = window.location?.pathname?.match(/(?<=\\/user\\/)[\\w].*/g)?.[0]\n            const data = {\n                roomName: room_name,\n                idUser: info?.id || -1,\n            }\n            const result = await GetRoomInfo(data)\n            if (result.status === 200) {\n                const info = result?.data || {}\n                info.tags = info.tags !== \"\" && info.tags !== undefined ? JSON.parse(info.tags) : []\n                setRoomInfo(info)\n                setViewers(info.viewers || 0)\n                if (info.streamer_id !== undefined && info.room_status === 1) {\n                    onPlayVideo(info)\n                }\n                // * Socket\n                socket = io(CONNECTION_PORT);\n                socket.emit(\"open_donate_room\", { nickname: room_name })\n                socket.on('message_donate', delayFunc(({ message, isDonate, }) => {\n                    showToast('dark', message, { position: \"bottom-center\" })\n                    if (isDonate) {\n                        playDonateSound()\n                    }\n                }))\n                socket.on('update_viewer_watching', ({ currentViewers }) => {\n                    setViewers(currentViewers)\n                })\n            }\n        } catch (e) { showToast('error', e) }\n        onSetLoading(false)\n    }\n    useEffect(() => {\n        canvas = document.createElement(\"canvas\");\n        canvas.width = 320;\n        canvas.height = 180;\n        callEffect()\n        return history.listen(() => {\n            window.location.reload()\n        })\n    }, [history]);\n\n    const likeVideo = () => {\n        try {\n            roomInfo.likes += 1;\n            fetch(ROOM_LIKE, {\n                body: JSON.stringify({ streamer_id: roomInfo.streamer_id, likes: roomInfo.likes }),\n                method: \"POST\",\n                headers: { 'Content-Type': 'application/json', },\n            })\n            setMutate(!_)\n        } catch (err) { }\n    }\n\n    return (\n        roomInfo.streamer_id !== undefined ? (\n            <div className='container-fluid d-flex flex-row m-auto p-4' style={{ zIndex: 999, pointerEvents: 'auto', }}>\n                {isPlayedVideo && (\n                    <Beforeunload onBeforeunload={(event) => {\n                        event.preventDefault()\n                        window.location.reload()\n                    }} />\n                )}\n                <div className='w-100 d-flex flex-column' style={{ height: '100%' }}>\n                    <div className='d-flex' style={{ position: \"relative\" }}>\n                        <video id=\"remote-video\" controls style={{ maxHeight: '80vh', minWidth: '100%', minHeight: 350, background: 'black' }}\n                            poster={HOST_IMAGE + (roomInfo?.thumbnail || \"\")} />\n                        <div onClick={() => { setChatBoxState(!chatBox) }} className={chatBox ? 'collapse' : 'text-center mx-2 py-2 text-light'}\n                            style={{ width: 30, height: 30, cursor: 'pointer', position: \"absolute\", right: 0, top: 0, opacity: 0.5 }}>\n                            <div className='d-flex'>\n                                <img className='m-auto' src={require(\"../../assets/img/page/show_right_side_panel_48px.png\")}\n                                    alt=\"\" style={{ height: 30, width: 30 }} />\n                            </div>\n                        </div>\n                    </div>\n                    <div className='mt-3'>\n                        <div className='d-flex shadow p-3' style={{ minHeight: 120, maxHeight: 200, borderRadius: 15, background: 'rgb(33,33,33,0.5)' }}>\n                            <div className='d-flex w-100'>\n                                <div className='d-flex w-100'>\n                                    <div className='d-flex mr-3' style={{ width: 100, flexDirection: 'column', alignItems: 'center', }}>\n                                        <img className='m-auto'\n                                            src={roomInfo?.photo ? HOST_AVATAR + roomInfo.photo : require(\"../../assets/images/Avatar.png\")}\n                                            alt=\"\" style={{ height: 70, width: 70, borderRadius: '50%', cursor: \"pointer\", objectFit: 'cover', }} />\n                                        <span style={{ color: 'lightgreen', }}>{roomInfo.nickname || \"nickname\"}</span>\n                                    </div>\n                                    <div className='d-flex flex-column m-auto px-3 border-bottom w-100'>\n                                        <div><h4 className='font-weight-bold text_primary'>{roomInfo.title || 'title'}</h4></div>\n                                        <div className=\"py-1 text_primary\">\n                                            <div style={{ height: 100, maxWidth: 200, display: \"inline\" }}>{roomInfo?.description || \"description\"}</div> | <span className='text-secondary'>{moment(roomInfo?.created_at).endOf('min').fromNow()}</span>\n                                        </div>\n                                        <div className=\"d-flex flex-row py-1\" >\n                                            <div className='d-flex align-items-center w-100 text-light'>\n                                                {roomInfo.tags.map((tag, idx) => {\n                                                    return (<span key={idx} className=\"list_video_tags py-1 px-2\" style={{ fontSize: 12, }}><li>{tag.label}</li></span>)\n                                                })}\n                                            </div>\n                                            <div className='d-flex justify-content-end w-100 text-light'>\n                                                <div className='py-1 px-2 d-flex align-items-center' style={{ fontSize: 18, }}>\n                                                    <FaRegEye />\n                                                    <div className='px-2'>{viewers}</div>\n                                                </div>\n                                                <div className='py-1 px-2 d-flex align-items-center interaction_bar_icon' onClick={likeVideo} style={{ cursor: \"pointer\", fontSize: 18, }}>\n                                                    <FaThumbsUp />\n                                                    <div className='px-2'>{roomInfo.likes}</div>\n                                                </div>\n                                                <div className='py-1 px-2 d-flex align-items-center interaction_bar_icon' onClick={onSubcribe} style={{ cursor: \"pointer\", fontSize: 18, }}>\n                                                    <FaRegGem />\n                                                    <div className='px-2'>{roomInfo.isSubscribed ? \"Unfollow\" : \"Follow\"}</div>\n                                                </div>\n                                                <div className='py-1 px-2 d-flex align-items-center interaction_bar_icon' onClick={onGotoDonatePage} style={{ cursor: \"pointer\", fontSize: 18, }}>\n                                                    <FaDonate />\n                                                    <div className='px-2'>Donate</div>\n                                                </div>\n                                            </div>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n                <div className={chatBox ? 'ml-3 shadow' : 'collapse'} style={{ position: 'relative', minWidth: 300, background: 'rgb(33,33,33,0.5)', borderRadius: 10 }}>\n                    <div style={{ width: '100%', height: '100%', position: 'absolute', right: 0, top: 0 }}>\n                        <div className='d-flex flex-column' style={{ position: 'relative', height: '100%' }}>\n                            <div className='px-3'>\n                                <div className='border-bottom w-100 d-flex justify-content-end py-2'>\n                                    <div className='align-self-center'>\n                                        <img className='m-auto' src={require(\"../../assets/img/page/show_left_side_panel_48px.png\")}\n                                            alt=\"\" style={{ width: 28, cursor: \"pointer\", }}\n                                            onClick={() => { setChatBoxState(!chatBox) }} />\n                                    </div>\n                                </div>\n                            </div>\n                            {(userInfo?.nickname) ? <ChatBox roomName={roomInfo.nickname} userChat={userInfo.nickname} /> : <></>}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        ) : !loading && (\n            <Page404 />\n        )\n    );\n}\nexport default Viewer;\n","import { USER_SUBSCRIBE, USER_SAVE_AVATAR, USER_GET_PROFILE, USER_UPDATE_PROFILE, USER_DONATE_HISTORY, USER_UPDATE_ROLE, USER_GET_ALL, } from '../utils/Urls'\n\nexport const SubscribeChannel = async (data) => {\n    try {\n        const options = {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data)\n        };\n        const request = await fetch(USER_SUBSCRIBE, options)\n        const response = await request.json()\n        return response\n    } catch (e) {\n        return e\n    }\n}\nexport const OnSaveAvatar = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    };\n    const request = await fetch(USER_SAVE_AVATAR, options)\n    const response = await request.json()\n    return response\n}\nexport const GetProfileUser = async (nickname, host_id) => {\n    try {\n        const options = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'nickname': nickname,\n                'host_id': host_id,\n            },\n        };\n        const request = await fetch(USER_GET_PROFILE, options)\n        const response = await request.json()\n        return response?.data || {}\n    } catch (e) {\n        return {}\n    }\n}\nexport const OnUpdateAvatar = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data),\n    };\n    const request = await fetch(USER_UPDATE_PROFILE, options)\n    const response = await request.json()\n    return response\n}\nexport const OnUpdateRole = async (user_id) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ user_id }),\n    };\n    const request = await fetch(USER_UPDATE_ROLE, options)\n    const response = await request.json()\n    return response\n}\nexport const GetHistoryDonate = async (userId) => {\n    try {\n        const options = {\n            method: 'GET',\n            headers: {\n                'Content-Type': 'application/json',\n                'userid': userId\n            },\n        };\n        const request = await fetch(USER_DONATE_HISTORY, options)\n        const response = await request.json()\n        return response?.data || []\n    } catch (e) {\n        return []\n    }\n}\nexport const GetAllUsers = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n    };\n    const request = await fetch(USER_GET_ALL, options)\n    const response = await request.json()\n    return response\n}","import React, { useState, useEffect, } from 'react'\nimport { Link } from \"react-router-dom\"\nimport { RoomAPI } from '../store/RoomController'\nimport { getParamUrl, } from '../utils/Helper'\nimport { HOST_AVATAR, HOST_IMAGE, } from '../utils/Urls'\nimport DEFAULT_THUMBNAIL from '../assets/img/3.png'\nimport DEFAULT_AVATAR from '../assets/images/face_.png'\nimport Page404 from './controls/Page404'\nimport { useDispatch, } from 'react-redux';\nimport { showToast } from './controls/Toast'\nimport { showLoading } from './controls/Loading'\n\nconst Home = ({ }) => {\n    const [videos, setVideos] = useState([])\n    const [isLoading, setIsLoading] = useState(true)\n    const dispatch = useDispatch();\n    const callEffect = async () => {\n        showLoading(true)\n        setIsLoading(true)\n        try {\n            const roomsOnline = await dispatch(RoomAPI.GetRoomsOnline({ search: getParamUrl('q') ? decodeURI(getParamUrl('q')) : null }))\n            setVideos(roomsOnline?.data || [])\n        } catch (e) {\n            showToast('error', e)\n        }\n        showLoading(false)\n        setIsLoading(false)\n    }\n    useEffect(() => {\n        callEffect()\n    }, [])\n    return (\n        <React.Fragment>\n            {videos.length > 0 ? (\n                <div className=\"list_video_container\">\n                    {videos.map((video, idx) => {\n                        let tags = []\n                        try {\n                            tags = JSON.parse(video.tags || \"[]\") || []\n                        } catch (e) { tags = [] }\n                        return (\n                            <Link to={`/user/${video.nickname}`} target=\"_blank\" rel=\"noopener noreferrer\" key={idx} className=\"list_video_item\" style={{ pointerEvents: 'auto', }}>\n                                <div className=\"list_video_status\">LIVE</div>\n                                <div className=\"list_video_viewers\">{video.viewers || 0} viewers</div>\n                                <div className=\"img-container\"><img src={video?.thumbnail ? HOST_IMAGE + video?.thumbnail : DEFAULT_THUMBNAIL} alt=\"\" />\n                                </div>\n                                <div className=\"list_video_description\">\n                                    <img src={video?.photo ? HOST_AVATAR + video?.photo : DEFAULT_AVATAR} alt=\"\" style={{ width: 40, height: 40, borderRadius: '50%', marginRight: 10, }} />\n                                    <div className=\"d-flex flex-column\">\n                                        <span className=\"text_primary\" style={{ fontSize: 17, fontWeight: 'bold', }}>{video.title}</span>\n                                        <span className=\"text_primary\" style={{ fontSize: 14, fontStyle: 'italic', }}>{video.description}</span>\n                                        <span className=\"text_primary\" style={{ fontSize: 14, color: \"lightgreen\" }}>{video.nickname}</span>\n                                        <div style={{ minHeight: 30, }}>\n                                            {Array.isArray(tags) && tags.map((tag, idxTag) => (\n                                                <span key={idxTag} className=\"list_video_tags text-white p-1 px-2 text-center text_primary\" style={{ fontSize: 11 }}>{tag.label}</span>\n                                            ))}\n                                        </div>\n                                    </div>\n                                </div>\n                            </Link>\n                        )\n                    })}\n                </div>\n            ) : !isLoading && (\n                <Page404 text={\"No Rooms Online Found\"} />\n            )}\n        </React.Fragment>\n    )\n}\nexport default Home","import React, { useEffect, useState, } from 'react'\nimport { FaSearch, FaUser, FaVideo, FaPhotoVideo, } from 'react-icons/fa';\nimport { Link } from \"react-router-dom\"\nimport { showToast } from '../controls/Toast'\nimport { showLoading } from '../controls/Loading'\nimport { getParamUrl } from '../../utils/Helper'\nimport { Modal } from 'react-responsive-modal';\nimport Emitter from './EventEmitter'\nimport { showConfirmDialog } from '../controls/Confirm'\nimport { OnUserLogin, OnUserRegister, OnSendMailReset, FetchUserInfo, isLoggedIn, } from '../../store/CredentialController'\nimport { OnUpdateRole, } from '../../store/UserController'\n\nconst Header = ({ }) => {\n    const [visibleModal, setVisibleModal] = useState(false);\n    const [dataModal, setDataModal] = useState({});\n    const [isLoading, setIsLoading] = useState(true);\n    const [iconSearch, setIconSearch] = useState(\"\");\n    const [userInfo, setUserInfo] = useState({})\n    const [isLogged, setIsLogged] = useState(false);\n    const [inputValues, setInputValues] = useState({\n        username: '',\n        password: '',\n        nickname: '',\n        email: '',\n        search: getParamUrl(\"q\") || \"\"\n    })\n    const onDisplayPurchase = () => {\n        window.open('/purchase_options', '', 'scrollbars=yes,width=650,height=600')\n    }\n    const onOpenLoginModal = (type) => {\n        onChangeModalType(type)\n        setVisibleModal(true)\n    }\n    const onChangeModalType = (type) => {\n        setDataModal({ type })\n    }\n    const onLogin = async (e) => {\n        e.preventDefault()\n        const { username, password } = inputValues\n        if (!username || !password) {\n            showToast(\"warn\", 'Username or password should not be null')\n            return\n        }\n        const result = await OnUserLogin({ username, password })\n        if (result.status === 200) {\n            const { jwt, user_info } = result?.data || {}\n            showToast(\"info\", result.msg)\n            setVisibleModal(false)\n            setUserInfo(user_info)\n            localStorage.setItem('user_info', JSON.stringify(user_info))\n            localStorage.setItem('jwt', JSON.stringify(jwt))\n            setTimeout(() => window.location.reload(), 1000)\n        } else {\n            showToast(\"error\", result.msg)\n        }\n    }\n    const onLogout = () => {\n        localStorage.clear()\n        sessionStorage.clear()\n        showToast(\"info\", \"Logout\")\n        setTimeout(() => window.location.reload(), 1000)\n    }\n    const onRegister = async () => {\n        const { username, password, nickname, email, } = inputValues\n        if (!username || !password || !nickname || !email) {\n            showToast(\"warn\", 'Info register should not be null')\n            return\n        }\n        if (!(/^\\S+@\\S+\\.\\S+$/g).test(email)) {\n            showToast(\"warn\", 'Email not in correct format')\n            return\n        }\n        const result = await OnUserRegister({ username, password, nickname, email })\n        if (result.status === 200) {\n            showToast(\"info\", result.msg)\n            onChangeModalType(\"LOGIN\")\n        } else {\n            showToast(\"error\", result.msg)\n        }\n    }\n    const onSearch = () => {\n        const { search } = inputValues\n        switch (iconSearch) {\n            case \"tags\":\n                window.location.href = `/?q=${encodeURI(search)}`\n                break;\n            case \"members\":\n                window.location.href = `/members?q=${encodeURI(search)}`\n                break;\n            case \"videos\":\n                window.location.href = `/videos?q=${encodeURI(search)}`\n                break;\n        }\n    }\n    const onUpdateRoleStatus = async () => {\n        const result = await OnUpdateRole(userInfo.id)\n        if (result.status === 200) {\n            showToast('info', 'Update successfully!')\n            setTimeout(() => window.location.reload(), 1000)\n        }\n    }\n    const onResetPassword = async (e) => {\n        showLoading(true)\n        try {\n            e.preventDefault()\n            const { email } = inputValues\n            if (!(/^\\S+@\\S+\\.\\S+$/g).test(email)) {\n                showToast(\"warn\", 'Email not in correct format')\n                showLoading(false)\n                return\n            }\n            const result = await OnSendMailReset({ email, host_origin: window.location.origin })\n            if (result.status === 200) {\n                showToast('info', `We have sent an email with a link to reset your password. Please check your inbox ${email}.`)\n            } else {\n                showToast('error', `Request reset password has been failed`)\n            }\n        } catch (e) { console.log(e) }\n        showLoading(false)\n    }\n    const onChangeForm = (value, stateName) => {\n        if (stateName === \"nickname\" || stateName === \"username\") {\n            value = value?.replace(/\\s/g, '_')?.trim()\n        }\n        setInputValues({ ...inputValues, [stateName]: value })\n    }\n    const callEffect = async () => {\n        showLoading(true)\n        setIsLoading(true)\n        try {\n            // * UserInfo\n            if (await isLoggedIn()) {\n                setIsLogged(true)\n                const userInfo = await FetchUserInfo()\n                setUserInfo(userInfo || {})\n            }\n            // * Search\n            const pathName = window.location.pathname\n            if (pathName === \"/videos\") {\n                setIconSearch(\"videos\")\n            } else if (pathName === \"/members\") {\n                setIconSearch(\"members\")\n            } else {\n                setIconSearch(\"tags\")\n            }\n        } catch (e) { console.log(e) }\n        showLoading(false)\n        setIsLoading(false)\n    }\n    const listenLoginRequest = () => {\n        Emitter.on('login_required', async () => {\n            onOpenLoginModal(\"LOGIN\")\n        })\n    }\n    useEffect(() => {\n        callEffect()\n        listenLoginRequest()\n    }, [])\n    return (\n        <React.Fragment>\n            {!isLoading && (\n                <div style={{ padding: 10, display: 'flex', alignItems: '100%', justifyContent: 'space-around', zIndex: 2000, pointerEvents: 'none', }}>\n                    <Link to=\"/\" style={{ pointerEvents: 'auto', }}>\n                        <div style={{ width: '10vw', display: 'flex', alignItems: 'center', justifyContent: 'center', }}>\n                            <span className=\"brand_styling text_primary\" style={{ fontSize: 30, }}>BAVK</span>\n                        </div>\n                    </Link>\n                    <div style={{ width: '80vw', display: 'flex', alignItems: 'center', justifyContent: 'center', pointerEvents: 'auto', }}>\n                        <input className=\"text_primary\" placeholder=\"Search...\" value={inputValues.search || \"\"} onChange={(e) => onChangeForm(e.target.value, 'search')} onKeyUp={(e) => e.keyCode === 13 && onSearch()}\n                            style={{ background: 'rgb(18,18,18)', borderTopLeftRadius: 5, borderBottomLeftRadius: 5, outline: 'none', border: '1px solid rgb(48,48,48)', padding: '2px 10px', height: 40, width: '40vw', }} />\n                        <div className=\"dropdown\">\n                            <button data-toggle=\"dropdown\" style={{ background: 'rgb(48,48,48)', outline: 'none', border: 'none', borderRight: '0.5px solid rgb(80,80,80)', height: 40, width: 45, color: 'lightblue', }}>\n                                {iconSearch === \"members\" ? (\n                                    <FaUser />\n                                ) : iconSearch === \"videos\" ? (\n                                    <FaPhotoVideo />\n                                ) : iconSearch === \"tags\" && (\n                                    <FaVideo />\n                                )}\n                            </button>\n                            <div className=\"dropdown-menu\" style={{ background: 'ivory', }}>\n                                <div onClick={() => setIconSearch(\"tags\")} className=\"dropdown-item\" style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', background: iconSearch === \"tags\" ? \"lightsteelblue\" : \"\" }}>\n                                    <FaVideo style={{ marginRight: 7, }} />Streaming Rooms\n                                </div>\n                                <div onClick={() => setIconSearch(\"videos\")} className=\"dropdown-item\" style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', background: iconSearch === \"videos\" ? \"lightsteelblue\" : \"\" }}>\n                                    <FaPhotoVideo style={{ marginRight: 7, }} />Videos\n                                </div>\n                                <div onClick={() => setIconSearch(\"members\")} className=\"dropdown-item\" style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', background: iconSearch === \"members\" ? \"lightsteelblue\" : \"\" }}>\n                                    <FaUser style={{ marginRight: 7, }} />Members\n                                </div>\n                            </div>\n                        </div>\n                        <button onClick={onSearch} style={{ background: 'rgb(48,48,48)', outline: 'none', border: 'none', height: 40, width: 45, borderTopRightRadius: 5, borderBottomRightRadius: 5, color: 'lightblue', }}>\n                            <FaSearch />\n                        </button>\n                    </div>\n                    <div style={{ width: '10vw', display: 'flex', alignItems: 'center', justifyContent: 'center', pointerEvents: 'auto', }}>\n                        {isLogged ? (\n                            <div className=\"dropdown menu_user\">\n                                <button className=\"btn btn-outline-primary dropdown-toggle\" data-toggle=\"dropdown\" style={{ background: 'rgb(18,18,18)' }}>\n                                    {userInfo.nickname}\n                                </button>\n                                <div className=\"dropdown-menu\" style={{ background: 'ivory', }}>\n                                    <div className=\"dropdown-item disabled\">Tokens {userInfo.token || \"0\"}</div>\n                                    <div className=\"dropdown-divider\"></div>\n                                    <h5 className=\"dropdown-header\">Managements</h5>\n                                    <Link to={`/profile/${userInfo.nickname}#profile`}>\n                                        <div className=\"dropdown-item\">Profile</div>\n                                    </Link>\n                                    <Link to={`/profile/${userInfo.nickname}#channel`}>\n                                        <div className=\"dropdown-item\">Channel</div>\n                                    </Link>\n                                    <Link to={`/profile/${userInfo.nickname}#history_donate`}>\n                                        <div className=\"dropdown-item\">History</div>\n                                    </Link>\n                                    <h5 className=\"dropdown-header\">Feature</h5>\n                                    <Link to=\"/members\">\n                                        <div className=\"dropdown-item\">List Members</div>\n                                    </Link>\n                                    <Link to=\"/videos\">\n                                        <a className=\"dropdown-item\">List Videos</a>\n                                    </Link>\n                                    {userInfo.role_user === \"STREAMER\" && (\n                                        <Link to=\"/streamer\">\n                                            <div className=\"dropdown-item\">Go Live</div>\n                                        </Link>\n                                    )}\n                                    {userInfo.role_user === \"VIEWER\" && (\n                                        <div onClick={() => showConfirmDialog(\"Confirm\", \"Enable Streamer Mode?\", onUpdateRoleStatus)} className=\"dropdown-item href_style_text\">Enable Live</div>\n                                    )}\n                                    <div onClick={onDisplayPurchase} className=\"dropdown-item href_style_text\">Buy Tokens</div>\n                                    <div className=\"dropdown-divider\"></div>\n                                    <div onClick={onLogout} className=\"dropdown-item href_style_text\">Logout</div>\n                                </div>\n                            </div>\n                        ) : (\n                            <button onClick={() => onOpenLoginModal(\"LOGIN\")} className=\"btn btn-outline-primary\" style={{ background: 'rgb(18,18,18)' }}>\n                                Login\n                            </button>\n                        )}\n                    </div>\n                </div>\n            )}\n            <Modal open={visibleModal} onClose={() => setVisibleModal(false)} center>\n                <div style={{ padding: \"auto\", width: 400, minHeight: 400, display: \"flex\", justifyContent: \"center\", alignItems: \"center\", borderRadius: \"5px\", }}>\n                    {dataModal.type === \"LOGIN\" ? (\n                        <form onSubmit={onLogin} style={{ display: \"flex\", flexDirection: \"column\", width: \"80%\" }} >\n                            <h2 style={{ textAlign: \"center\", fontWeight: 'bold', }}>Login</h2>\n                            <div className=\"form-group \">\n                                <label style={{ fontWeight: \"bold\" }}>Username</label>\n                                <input type=\"text\" className=\"form-control\" value={inputValues.username} onChange={(e) => onChangeForm(e.target.value, 'username')} placeholder=\"Username...\" required />\n                            </div>\n                            <div className=\"form-group \">\n                                <label style={{ fontWeight: \"bold\" }}>Password</label>\n                                <input type=\"password\" className=\"form-control\" value={inputValues.password} onChange={(e) => onChangeForm(e.target.value, \"password\")} placeholder=\"Password...\" required />\n                            </div>\n                            <p onClick={() => onChangeModalType(\"RESET\")} className=\"href_style_text\" style={{ color: \"rgb(21,127,251)\" }}>Forgot password?</p>\n                            <p onClick={() => onChangeModalType(\"REGISTER\")} className=\"href_style_text\" style={{ color: \"rgb(21,127,251)\" }}>\n                                Create account?\n                            </p>\n                            <button type=\"submit\" style={{ fontSize: \"20px\", background: \"rgb(21,127,251)\", color: \"whitesmoke\", borderRadius: \"4px\", }}>\n                                Login\n                            </button>\n                        </form>\n                    ) : dataModal.type === \"REGISTER\" ? (\n                        <div style={{ display: \"flex\", flexDirection: \"column\", width: \"80%\" }} >\n                            <h2 style={{ textAlign: \"center\", fontWeight: 'bold', }}>Register</h2>\n                            <div className=\"form-group \">\n                                <label style={{ fontWeight: \"bold\" }}>Nickname</label>\n                                <input type=\"text\" className=\"form-control\" value={inputValues.nickname} onChange={(e) => onChangeForm(e.target.value, \"nickname\")} placeholder=\"Nickname...\" />\n                            </div>\n                            <div className=\"form-group \">\n                                <label style={{ fontWeight: \"bold\" }}>Email</label>\n                                <input type=\"email\" className=\"form-control\" value={inputValues.email} onChange={(e) => onChangeForm(e.target.value, \"email\")} placeholder=\"Email...\" />\n                            </div>\n                            <div className=\"form-group \">\n                                <label style={{ fontWeight: \"bold\" }}>Username</label>\n                                <input type=\"text\" className=\"form-control\" value={inputValues.username} onChange={(e) => onChangeForm(e.target.value, \"username\")} placeholder=\"Username...\" />\n                            </div>\n                            <div className=\"form-group \">\n                                <label style={{ fontWeight: \"bold\" }}>Password</label>\n                                <input type=\"password\" className=\"form-control\" value={inputValues.password} onChange={(e) => onChangeForm(e.target.value, \"password\")} placeholder=\"Password...\" />\n                            </div>\n                            <p onClick={() => onChangeModalType(\"LOGIN\")} className=\"href_style_text\" style={{ color: \"rgb(21,127,251)\" }} >\n                                Already have an account?\n                            </p>\n                            <button onClick={onRegister} type=\"submit\" style={{ fontSize: \"20px\", background: \"rgb(21,127,251)\", color: \"whitesmoke\", borderRadius: \"4px\", }}>\n                                Register\n                            </button>\n                        </div>\n                    ) : dataModal.type === \"RESET\" && (\n                        <form onSubmit={onResetPassword} style={{ display: \"flex\", flexDirection: \"column\", width: \"80%\" }} >\n                            <h2 style={{ textAlign: \"center\", fontWeight: 'bold', }}>Reset Password</h2>\n                            <div className=\"form-group \">\n                                <label style={{ fontWeight: \"bold\" }}>Email</label>\n                                <input type=\"text\" className=\"form-control\" value={inputValues.email} onChange={(e) => onChangeForm(e.target.value, 'email')} placeholder=\"Email...\" required />\n                            </div>\n                            <p onClick={() => onChangeModalType(\"LOGIN\")} className=\"href_style_text\" style={{ color: \"rgb(21,127,251)\" }} >\n                                Back to login?\n                            </p>\n                            <button type=\"submit\" style={{ fontSize: \"20px\", background: \"rgb(21,127,251)\", color: \"whitesmoke\", borderRadius: \"4px\", }}>\n                                Reset\n                            </button>\n                        </form>\n                    )}\n                </div>\n            </Modal>\n        </React.Fragment>\n    )\n}\nexport default Header","import { confirmAlert } from 'react-confirm-alert';\nimport 'react-confirm-alert/src/react-confirm-alert.css';\n\nexport const showConfirmDialog = (title, message, yesFunc, noFunc) => {\n    confirmAlert({\n        title: title,\n        message: message,\n        buttons: [\n            { label: 'Yes', onClick: yesFunc },\n            { label: 'No', onClick: noFunc }\n        ]\n    });\n}","import React, { useState, useEffect, useRef, } from \"react\";\nimport { getParamUrl, } from '../../utils/Helper'\nimport { showToast } from '../controls/Toast'\nimport { showLoading } from '../controls/Loading'\nimport { OnUpdatePassword } from '../../store/CredentialController'\n\nconst ResetPassword = ({ }) => {\n    const [jwt, setJwt] = useState('')\n    const [inputValues, setInputValues] = useState({})\n\n    const onChangeForm = (value, stateName) => {\n        setInputValues({ ...inputValues, [stateName]: value })\n    }\n    const onChangePass = async () => {\n        showLoading(true)\n        try {\n            const { password, confirmpassword, } = inputValues\n            if (password !== confirmpassword) {\n                showToast('warn', 'Password confirmation does not match!')\n                return\n            }\n            const result = await OnUpdatePassword({ password: password?.trim() }, jwt,)\n            if (result.status === 200) {\n                setInputValues({})\n                showToast(\"info\", result.msg)\n            } else {\n                showToast(\"error\", result.msg)\n            }\n        } catch (e) { }\n        showLoading(false)\n    }\n    useEffect(() => {\n        setJwt(getParamUrl('jwt') || \"\")\n    }, [])\n    return (\n        <div style={{ height: '70vh', display: 'flex', justifyContent: 'center', alignItems: 'center', pointerEvents: 'auto', }}>\n            <div style={{}}>\n                <h4 className=\"text_primary\">Reset Password</h4>\n                <div className=\"form-group\">\n                    <label className=\"text_primary\">New Password:</label>\n                    <input type=\"text\" className=\"form-control\" value={inputValues.password || \"\"} onChange={(e) => onChangeForm(e.target.value, 'password')} placeholder=\"Password...\" />\n                </div>\n                <div className=\"form-group\">\n                    <label className=\"text_primary\">Confirm New Password:</label>\n                    <input className=\"form-control\" value={inputValues.confirmpassword || \"\"} onChange={(e) => onChangeForm(e.target.value, 'confirmpassword')} placeholder=\"Confirm password...\" />\n                </div>\n                <button onClick={onChangePass} className=\"btn btn-primary btn-block\">Reset</button>\n            </div>\n        </div>\n    )\n}\nexport default ResetPassword","import React from 'react'\nimport BrandImage from '../../assets/images/brand.png'\nimport { Link } from \"react-router-dom\"\nimport { FaEnvelope } from \"react-icons/fa\";\n\nconst Footer = () => {\n    const onDisplayPurchase = () => {\n        window.open('/purchase_options', '', 'scrollbars=yes,width=650,height=600')\n    }\n    return (\n        <footer style={{ zIndex: 10, marginTop: 20, pointerEvents: 'none', }}>\n            <div style={{ background: 'rgb(33,37,49)', opacity: 0.8, height: 400, borderTop: '1px solid #777', padding: 55, overflow: 'hidden', }}>\n                <div style={{ display: 'flex', justifyContent: 'space-around', flexWrap: 'no-wrap', }}>\n                    <div>\n                        <img src={BrandImage} alt=\"\" style={{ width: 80, height: 80, borderRadius: 10, objectFit: 'cover', }} />\n                    </div>\n                    <div style={{ display: 'flex', flexDirection: 'column', lineHeight: '33px', pointerEvents: 'auto', }}>\n                        <p style={{ color: 'lightsalmon', fontWeight: 'bold', }}>BAVK Live Streaming</p>\n                        <Link to=\"/\">\n                            <p className=\"text_primary\">Home</p>\n                        </Link>\n                        <Link to=\"/videos\">\n                            <p className=\"text_primary\">Videos</p>\n                        </Link>\n                        <Link to=\"/members\">\n                            <p className=\"text_primary\">Members</p>\n                        </Link>\n                        <div className=\"href_style_text\" onClick={onDisplayPurchase}>\n                            <p className=\"text_primary\">Buy Tokens</p>\n                        </div>\n                    </div>\n                    <div style={{ display: 'flex', flexDirection: 'column', lineHeight: '33px', pointerEvents: 'auto', }}>\n                        <p style={{ color: 'lightsalmon', fontWeight: 'bold', }}>Resources</p>\n                        <Link to=\"/\">\n                            <p className=\"text_primary\">Stripe</p>\n                        </Link>\n                        <Link to=\"/\">\n                            <p className=\"text_primary\">Videojs</p>\n                        </Link>\n                        <Link to=\"/\">\n                            <p className=\"text_primary\">Socket</p>\n                        </Link>\n                    </div>\n                    <div style={{ display: 'flex', flexDirection: 'column', lineHeight: '33px', pointerEvents: 'auto', }}>\n                        <p style={{ color: 'lightsalmon', fontWeight: 'bold', }}>Contact</p>\n                        <p style={{ color: 'white', }}><FaEnvelope /> bavklivestreaming@gmail.com</p>\n                    </div>\n                </div>\n                <h5 style={{ color: 'white', textAlign: 'center', marginTop: 40, }}>Copyright  2021 BAVK Team</h5>\n            </div>\n        </footer>\n    )\n}\nexport default Footer","import { PAYMENT_PURCHASE, PAYMENT_OPTIONS, PAYMENT_DONATE, } from '../utils/Urls'\n\nexport const OnPurchaseToken = async (data) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(data)\n    };\n    const request = await fetch(PAYMENT_PURCHASE, options)\n    const response = await request.json()\n    return response\n}\nexport const OnDonateToken = async (data, jwt) => {\n    const options = {\n        method: 'POST',\n        headers: {\n            'Content-Type': 'application/json',\n            'Authorization': 'Bearer ' + jwt\n        },\n        body: JSON.stringify(data)\n    };\n    const request = await fetch(PAYMENT_DONATE, options)\n    const response = await request.json()\n    return response\n}\n\nexport const GetOptionsPurchase = async () => {\n    const options = {\n        method: 'GET',\n        headers: {\n            'Content-Type': 'application/json',\n        },\n    };\n    const request = await fetch(PAYMENT_OPTIONS, options)\n    const response = await request.json()\n    return response\n}","import React, { useState, useEffect, } from 'react'\nimport { CardElement, useElements, useStripe } from \"@stripe/react-stripe-js\"\nimport { OnPurchaseToken, } from '../../store/PaymentController'\nimport { GetUserInfo, } from '../../store/CredentialController'\nimport { showToast } from '../controls/Toast'\nimport { showLoading } from '../controls/Loading'\nimport { getParamUrl, } from '../../utils/Helper'\n\nconst CARD_OPTIONS = {\n    iconStyle: \"solid\",\n    style: {\n        base: {\n            iconColor: \"#c4f0ff\",\n            color: \"white\",\n            fontWeight: 500,\n            fontFamily: \"Roboto, Open Sans, Segoe UI, sans-serif\",\n            fontSize: \"16px\",\n            fontSmoothing: \"antialiased\",\n            \":-webkit-autofill\": { color: \"#fce883\" },\n            \"::placeholder\": { color: \"#87bbfd\" }\n        },\n        invalid: {\n            iconColor: \"#ffc7ee\",\n            color: \"#ffc7ee\"\n        }\n    }\n}\nexport default function Purchase() {\n    const stripe = useStripe()\n    const elements = useElements()\n    const [isLoading, setIsLoading] = useState(false)\n    const [inputValues, setInputValues] = useState({})\n    const [userInfo, setUserInfo] = useState({})\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        if (isLoading) return\n        showLoading(true)\n        setIsLoading(true)\n        try {\n            const { error, paymentMethod } = await stripe.createPaymentMethod({\n                type: \"card\",\n                card: elements.getElement(CardElement)\n            })\n            if (!error) {\n                try {\n                    const { id } = paymentMethod\n                    const { currency, amount, token, } = inputValues\n                    const data = {\n                        id, currency,\n                        amount: Math.ceil(amount * 100),\n                        token: +token,\n                        nickname: userInfo.nickname,\n                        email: userInfo.email,\n                        idUser: userInfo.id,\n                    }\n                    const result = await OnPurchaseToken(data)\n                    if (result.status === 200) {\n                        window.close()\n                    } else {\n                        showToast('error', result.msg)\n                    }\n                } catch (error) {\n                    showToast('error', error)\n                }\n            } else {\n                showToast('error', error.message)\n            }\n        } catch (e) { showToast('error', e) }\n        showLoading(false)\n        setIsLoading(false)\n    }\n    const callEffect = async () => {\n        const info = await GetUserInfo()\n        setUserInfo(info || {})\n    }\n    useEffect(() => {\n        const amount = getParamUrl('amount')\n        const currency = getParamUrl('currency')\n        const token = getParamUrl('token')\n        callEffect()\n        setInputValues({ amount, currency, token })\n    }, [])\n    return (\n        <form onSubmit={handleSubmit} style={{ position: 'fixed', top: 0, left: 0, background: 'rgb(85,107,205)', height: '100vh', width: '100vw', display: 'flex', flexDirection: 'column', alignItems: 'center', zIndex: 5000, }}>\n            <p>4242424242424242</p>\n            <h1 style={{ color: 'white', }}>Payment</h1>\n            <span style={{ color: 'white', fontSize: 16, }}>Purchase ${inputValues.amount || '0'} for {inputValues.token || \"0\"} tokens</span>\n            <div style={{ width: '70%', background: 'rgb(112,144,232)', padding: 10, borderRadius: 5, marginBottom: 20, }}>\n                <CardElement options={CARD_OPTIONS} />\n            </div>\n            <button disabled={isLoading} type=\"submit\" style={{ width: '70%', padding: 10, borderRadius: 5, outline: 'none', border: 'none', background: 'rgb(214,147,216)', color: 'white', }}>Pay ${inputValues.amount || \"0\"}</button>\n        </form>\n    )\n}\n","import { Elements } from \"@stripe/react-stripe-js\"\nimport { loadStripe } from \"@stripe/stripe-js\"\nimport React from \"react\"\nimport Purchase from \"./Purchase\"\n\nconst PUBLIC_KEY = \"pk_test_51IuDXGJefHKSb0l8o5FJglhe65YLVctYknMaHW2ophK3U6Cps4Fa1ah14PjWMhPhIoecrhnyFAMYvku5Al7IjqAx005eXf5nZS\"\n\nconst stripeTestPromise = loadStripe(PUBLIC_KEY)\n\nfunction StripeContainer() {\n    return (\n        <Elements stripe={stripeTestPromise}>\n            <Purchase />\n        </Elements>\n    )\n}\nexport default StripeContainer\n","import React, { useState, useEffect, } from 'react'\nimport { GetOptionsPurchase, } from '../../store/PaymentController'\nimport { showToast } from '../controls/Toast'\nimport { } from 'nodemailer';\n\nexport default function PurchaseOptions() {\n    const [inputValues, setInputValues] = useState({})\n    const [options, setOptions] = useState([])\n\n    const onChangeOption = (value, stateName) => {\n        setInputValues({ ...inputValues, [stateName]: value })\n    }\n    const onContinuePurchase = () => {\n        const { currency, option, } = inputValues\n        window.location.href = `/buy_tokens?token=${option?.token}&amount=${option?.amount}&currency=${currency}`\n    }\n    const callEffect = async () => {\n        try {\n            const result = await GetOptionsPurchase()\n            setOptions(result?.data || [])\n        } catch (e) { showToast('error', e) }\n    }\n    useEffect(() => {\n        callEffect()\n    }, [])\n    return (\n        <div style={{ background: 'rgb(85,107,205)', position: 'fixed', top: 0, left: 0, zIndex: 100000, height: '100vh', width: '100vw', display: 'flex', justifyContent: 'center', alignItems: 'center', }}>\n            <div style={{ background: 'white', width: '95%', height: '95%', borderRadius: 10, padding: 20, }}>\n                <h4>Token Options</h4>\n                <div style={{ display: 'flex', flexDirection: 'column', }}>\n                    {options.map((option, idx) => (\n                        <div key={idx} style={{ display: 'flex', alignItems: 'center', }}>\n                            <input type=\"radio\" name=\"option\" onChange={() => onChangeOption(option, 'option')} />\n                            <span style={{ marginLeft: 5, }}>{option.name}</span>\n                        </div>\n                    ))}\n                </div>\n                <h4>Payment Options</h4>\n                <div style={{ display: 'flex', flexDirection: 'column', }}>\n                    {['USD'].map((currency, idx) => (\n                        <div key={idx} style={{ display: 'flex', alignItems: 'center', }}>\n                            <input type=\"radio\" name=\"currency\" onChange={() => onChangeOption(currency, 'currency')} />\n                            <span style={{ marginLeft: 5, }}>{currency}</span>\n                        </div>\n                    ))}\n                </div>\n                <button disabled={!inputValues.option || !inputValues.currency} onClick={onContinuePurchase} style={{ background: inputValues.option && inputValues.currency ? 'lightcoral' : 'gray' }}>\n                    Continue\n                </button>\n            </div>\n        </div>\n    )\n}\n","import React, { useState, useEffect, } from 'react'\nimport { getParamUrl, randColor, } from '../../utils/Helper'\nimport { showToast, } from '../controls/Toast'\nimport Emitter from '../controls/EventEmitter'\nimport { showLoading, } from '../controls/Loading'\nimport io from \"socket.io-client\";\nimport { CONNECTION_PORT, } from '../../utils/Urls'\nimport { isLoggedIn, } from '../../store/CredentialController'\nimport { OnDonateToken, } from '../../store/PaymentController'\nimport moment from 'moment'\n\nlet socket;\n\nconst Donation = () => {\n    const [inputValues, setInputValues] = useState({})\n\n    const onChangeForm = (value, stateName) => {\n        setInputValues({ ...inputValues, [stateName]: value })\n    }\n    const callEffect = async () => {\n        showLoading(true)\n        // * Socket\n        socket = io(CONNECTION_PORT);\n        setInputValues({\n            ...inputValues,\n            'jwt': getParamUrl('q'),\n            'streamer_id': getParamUrl('streamer_id'),\n            'streamer': getParamUrl('streamer'),\n            'viewer': getParamUrl('viewer'),\n        })\n        showLoading(false)\n    }\n    const onDonate = async () => {\n        if (!isLoggedIn()) {\n            Emitter.emit(\"login_required\", {})\n            return\n        }\n        showLoading(true)\n        try {\n            const { quantity, streamer_id, jwt, message, streamer, viewer, } = inputValues\n            const data = {\n                quantity: +quantity,\n                receiver: +streamer_id\n            }\n            const result = await OnDonateToken(data, jwt || \"\")\n            if (result?.status === 200) {\n                showToast('info', result.msg)\n                // * Socket\n                const msgToast = ` ${viewer} has donated ${quantity} tokens to ${streamer}  ${message}`\n                const msgChatbox = ` has donated ${quantity} tokens `\n                socket.emit(\"on_donate\", { streamer, message: msgToast, isDonate: true, })\n                socket.emit('sendMessage', { message: msgChatbox, userChat: viewer, roomName: streamer, colorRand: randColor(), createdAt: moment() });\n                setTimeout(() => window.location.reload(), 1000)\n            } else {\n                showToast('error', result.msg)\n            }\n        } catch (e) { showToast(e) }\n        showLoading(false)\n    }\n    useEffect(() => {\n        callEffect()\n    }, [])\n    const { quantity, streamer_id, jwt, message, } = inputValues\n    const disableDonate = !quantity || !streamer_id || !jwt || !message\n    return (\n        <React.Fragment>\n            <div style={{ width: '80%', margin: 'auto', marginTop: 20, pointerEvents: 'auto', }}>\n                <div style={{ display: 'flex', flexDirection: 'column', }}>\n                    <div style={{ display: 'flex', }}>\n                        <div style={{ width: '70%', height: 400, }}>\n                            <div style={{ border: '1px solid black', borderRadius: 5, background: 'rgb(236, 240, 241)', padding: 20, marginBottom: 20, }}>\n                                <h3>Donation</h3>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"quantity\">Token</label>\n                                    <div id=\"quantity\" style={{ display: 'grid', gridTemplateColumns: 'repeat(3, 1fr)', gridGap: 10, justifyContent: 'center', marginBottom: 20, }}>\n                                        {[10, 20, 40, 100, 200, 500].map((e, idx) => {\n                                            return (\n                                                <button key={idx} className=\"btn btn-outline-secondary\" onClick={() => onChangeForm(e, 'quantity')}>{e}</button>\n                                            )\n                                        })}\n                                    </div>\n                                </div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"other-token\">Other token</label>\n                                    <input type=\"number\" className=\"form-control\" id=\"other-token\" value={inputValues?.quantity || \"\"} onChange={(e) => onChangeForm(e.target.value, 'quantity')} placeholder=\"Other...\" />\n                                </div>\n                                <div className=\"form-group\">\n                                    <label htmlFor=\"message\">Message</label>\n                                    <textarea className=\"form-control\" id=\"message\" onChange={(e) => onChangeForm(e.target.value, 'message')} style={{ height: 50, }} placeholder=\"Message...\" />\n                                </div>\n                            </div>\n                        </div>\n                        <div style={{ width: '2%', height: 400, }} />\n                        <div style={{ width: '28%', height: 400, background: 'rgb(236, 240, 241)', border: '1px solid black', borderRadius: 5, padding: 20, display: 'flex', flexDirection: 'column', alignItems: 'center', }}>\n                            {inputValues.viewer || ''} donated {inputValues.quantity || \"{quantity}\"}\n                            <p style={{ textAlign: 'center', wordBreak: 'break-all', color: 'blueviolet', }}>{inputValues.message || \"{message}\"}</p>\n                        </div>\n                    </div>\n                    <div style={{ background: 'rgb(236, 240, 241)', marginTop: 20, display: 'flex', flexDirection: 'column', alignItems: 'center', border: '1px solid black', borderRadius: 5, padding: 20, }}>\n                        <h3>Donate <span style={{ color: 'lightcoral', }}>{inputValues?.quantity || \"0\"}</span> tokens to <span style={{ color: 'lightcoral', }}>{inputValues?.streamer || \"\"}</span></h3>\n                        <button onClick={onDonate} className={`btn ${disableDonate ? \"btn-outline-primary\" : \"btn-primary\"}`} disabled={disableDonate}>Donate</button>\n                    </div>\n                </div>\n            </div>\n        </React.Fragment>\n    )\n}\nexport default Donation","import React, { useEffect, useState } from \"react\";\nimport { ROOM_GET_ALL_VIDEOS, HOST_IMAGE, HOST_AVATAR } from '../../utils/Urls'\nimport { Link } from \"react-router-dom\"\nimport { getParamUrl, } from '../../utils/Helper'\nimport { isLoggedIn, } from '../../store/CredentialController'\nimport { showLoading, } from '../controls/Loading'\nimport { GetUserInfo, } from '../../store/CredentialController'\nimport \"./watch.css\";\nimport DEFAULT_THUMBNAIL from '../../assets/img/3.png'\nimport DEFAULT_AVATAR from '../../assets/images/face_.png'\nimport Page404 from '../controls/Page404'\nimport moment from 'moment'\n\nconst VideoStorage = () => {\n    const [videos, setVideos] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [loggedIn, setLoggedIn] = useState(false)\n    const [userInfo, setUserInfo] = useState({})\n\n    const callEffect = async () => {\n        setIsLoading(true)\n        showLoading(true)\n        try {\n            const info = await GetUserInfo()\n            setUserInfo(info || {})\n            setLoggedIn(await isLoggedIn())\n            const request = await fetch(ROOM_GET_ALL_VIDEOS, {\n                method: \"POST\",\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ search: getParamUrl('q') ? decodeURI(getParamUrl('q')) : null })\n            })\n            const result = await request.json()\n            setVideos(result.data || [])\n        } catch (e) { console.log(e) }\n        setIsLoading(false)\n        showLoading(false)\n    }\n    useEffect(() => {\n        callEffect()\n    }, [])\n    return (\n        <div style={{ padding: 20, width: '95%', margin: 'auto', marginTop: 5, }}>\n            {!loggedIn && !isLoading ? (\n                <Page404 text=\"Login Required\" />\n            ) : videos?.length > 0 ? (\n                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px,auto))', gridGap: 15, justifyContent: 'center', pointerEvents: 'auto', }}>\n                    {videos.map((e, idx) => (\n                        <div key={idx} style={{ display: 'flex', flexDirection: 'column', borderRadius: 10, width: 340, }}>\n                            <Link to={`/video/${userInfo.nickname}?id=${e.id}`}>\n                                <img src={e.thumbnail ? HOST_IMAGE + e.thumbnail : DEFAULT_THUMBNAIL} alt=\"\" style={{ width: 340, height: 210, borderRadius: 5, objectFit: 'cover', }} />\n                            </Link>\n                            <div style={{ display: 'flex', paddingLeft: 7, marginTop: 10, widht: '100%', }}>\n                                <Link to={`/video/${userInfo.nickname}?id=${e.id}`} style={{ display: 'flex', width: '90%', }}>\n                                    <img src={e.photo ? HOST_AVATAR + e.photo : DEFAULT_AVATAR} alt=\"\" style={{ width: 35, height: 35, borderRadius: '50%', marginRight: 10, objectFit: 'cover', }} />\n                                    <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start', }}>\n                                        <span className=\"text_primary\" style={{ fontWeight: 'bold', fontSize: 17, wordBreak: 'break-all', lineHeight: '20px', }}>{e.title?.length > 30 ? e.title?.slice(0, 20) + \"...\" : e.title}</span>\n                                        <span className=\"text_primary\" style={{ fontSize: 14, }}>{e.nickname}</span>\n                                        <span className=\"text_primary\" style={{ fontSize: 12, fontStyle: 'itatlic', }}>{moment(e.created_at).startOf('min').fromNow()}</span>\n                                    </div>\n                                </Link>\n                            </div>\n                        </div>\n                    ))}\n                </div>\n            ) : (\n                <Page404 text={\"No Videos Found\"} />\n            )}\n        </div>\n    )\n}\nexport default VideoStorage\n","import React, { useEffect, useState } from \"react\";\nimport { showLoading } from '../controls/Loading'\nimport { HOST_VIDEO } from '../../utils/Urls'\nimport { getParamUrl, } from '../../utils/Helper'\nimport { GetUserInfo, } from '../../store/CredentialController'\nimport { BsReply } from \"react-icons/bs\"\nimport \"./watch.css\";\n\nconst VideoStorage = () => {\n    const [idVideo, setIdVideo] = useState(-1)\n    const [userInfo, setUserInfo] = useState({})\n\n    const callEffect = async () => {\n        showLoading(true)\n        try {\n            const info = await GetUserInfo()\n            setUserInfo(info || {})\n            setIdVideo(getParamUrl('id') || -1)\n        } catch (e) { console.log(e) }\n        showLoading(false)\n    }\n    useEffect(() => {\n        callEffect()\n    }, [])\n    return (\n        <div className=\"watch\" style={{ pointerEvents: 'auto', }}>\n            <div className=\"back\">\n                <BsReply />\n                Home\n            </div>\n            {idVideo !== -1 && (\n                <video className=\"video\" autoPlay progress controls\n                    src={`${HOST_VIDEO}?idVideo=${idVideo}&idUser=${userInfo.id}`}\n                />)}\n        </div>\n    )\n}\nexport default VideoStorage\n","import React, { useState, useEffect, } from 'react'\nimport { getParamUrl, } from '../../utils/Helper'\nimport { isLoggedIn, } from '../../store/CredentialController'\nimport { HOST_AVATAR, } from '../../utils/Urls'\nimport DEFAULT_AVATAR from '../../assets/images/face_.png'\nimport { Link } from \"react-router-dom\"\nimport Page404 from '../controls/Page404'\nimport { showLoading, } from '../controls/Loading'\nimport { GetAllUsers, } from '../../store/UserController'\n\nconst ListUser = () => {\n    const [isLoading, setIsLoading] = useState(true);\n    const [loggedIn, setLoggedIn] = useState(false)\n    const [users, setUsers] = useState([])\n\n    const callEffect = async () => {\n        showLoading(true)\n        setIsLoading(true)\n        setLoggedIn(await isLoggedIn())\n        const result = await GetAllUsers({ search: getParamUrl('q') ? decodeURI(getParamUrl('q')) : null })\n        if (result.status === 200) {\n            setUsers(result.data || [])\n        }\n        showLoading(false)\n        setIsLoading(false)\n    }\n    useEffect(() => {\n        callEffect()\n    }, [])\n    return (\n        <React.Fragment>\n            {!loggedIn && !isLoading ? (\n                <Page404 text=\"Login Required\" />\n            ) : !isLoading && (\n                <div style={{ width: '95%', marginLeft: 'auto', marginRight: 'auto', marginTop: 10, zIndex: 100, pointerEvents: 'auto', }}>\n                    <h3 style={{ color: 'lightgreen', }}>Users ({users?.length || \"0\"})</h3>\n                    {users.length > 0 ? (\n                        <div style={{ display: 'grid', gridGap: 5, gridTemplateColumns: 'repeat(auto-fill, minmax(180px,auto))', }}>\n                            {users.map((user, idx) => {\n                                return (\n                                    <Link to={`/profile/${user.nickname}`}>\n                                        <div key={idx} style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center', }}>\n                                            <img src={user.photo ? HOST_AVATAR + user.photo : DEFAULT_AVATAR} alt=\"\" style={{ width: 180, height: 180, objectFit: 'cover', borderRadius: 10, }} />\n                                            <p className=\"text_primary\" style={{ textAlign: 'center', }}>{user.nickname}</p>\n                                        </div>\n                                    </Link>\n                                )\n                            })}\n                        </div>\n                    ) : (\n                        <Page404 text=\"No Users Found\" />\n                    )}\n                </div>\n            )}\n        </React.Fragment>\n    )\n}\nexport default ListUser","\nimport React, { useEffect, useState } from \"react\";\nimport { Modal } from \"react-responsive-modal\";\nimport { FaEdit, } from \"react-icons/fa\";\nimport './profile.css'\nimport { showToast } from '../controls/Toast'\nimport { showLoading } from '../controls/Loading'\nimport { UPDATE_VIDEO } from '../../utils/Urls'\n\nconst Update_Video = ({ videos, index, updateTitleVideo }) => {\n  const [videoInfo, setVideoInfo] = useState({})\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n  const onChangeForm = (value, stateName) => {\n    setVideoInfo({ ...videoInfo, [stateName]: value })\n  }\n  useEffect(() => {\n    setVideoInfo(JSON.parse(JSON.stringify(videos)))\n  }, [])\n  const updateVideo = async () => {\n    showLoading(true)\n    try {\n      const result = await fetch(UPDATE_VIDEO, {\n        method: \"POST\",\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({\n          video_id: videoInfo.id,\n          title: videoInfo.title\n        })\n      })\n      if (result.status === 200) {\n        showToast('info', \"Updated Successfully\")\n        handleClose()\n        updateTitleVideo(index, videoInfo.title)\n      } else {\n        showToast('info', \"Update Failed\")\n      }\n    } catch (e) { console.log(e) }\n    showLoading(false)\n  }\n  return (\n    <div>\n      <div onClick={handleShow} className=\"dropdown-item\" style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', }}>\n        <FaEdit style={{ marginRight: 5, }} /> Update\n      </div>\n      <Modal open={show} center onClose={handleClose}>\n        <div style={{ display: 'flex', justifyContent: \"center\", }}>\n          <div style={left_info}>\n            <div style={formGroup}>\n              <label>Title:</label>\n              <input value={videoInfo.title || \"\"} name=\"title\" onChange={(e) => onChangeForm(e.target.value, 'title')} style={textinput} />\n            </div>\n            <button onClick={updateVideo} className=\"btn btn-primary\" style={{ width: '100%', marginTop: 15, }}>\n              Update\n            </button>\n          </div>\n        </div>\n      </Modal>\n    </div>\n  );\n}\nexport default Update_Video;\n\nconst left_info = {\n  padding: 20,\n  marginRight: 20,\n  width: '30vw',\n}\nconst formGroup = {\n  display: 'flex',\n  flexDirection: 'column',\n  fontWeight: \"bold\",\n  width: '100%',\n}\nconst textinput = {\n  borderRadius: 5,\n  padding: 5,\n  width: '100%',\n  border: \"1px solid #bdc3c7\",\n}","import React, { useState, useEffect, useRef, } from 'react'\nimport { HOST_AVATAR, HOST_IMAGE } from '../../utils/Urls'\nimport { OnSaveAvatar, GetProfileUser, OnUpdateAvatar, GetHistoryDonate, SubscribeChannel, } from '../../store/UserController'\nimport { showLoading } from '../controls/Loading'\nimport { showToast } from '../controls/Toast'\nimport { ROOM_GET_VIDEOS, DELETE_VIDEO } from '../../utils/Urls'\nimport { GetUserInfo, } from '../../store/CredentialController'\nimport Page404 from '../controls/Page404'\nimport \"./profile.css\";\nimport { Link } from \"react-router-dom\"\nimport BootstrapTable from 'react-bootstrap-table-next';\nimport paginationFactory from 'react-bootstrap-table2-paginator';\nimport DEFAULT_THUMBNAIL from '../../assets/img/3.png'\nimport DEFAULT_AVATAR from '../../assets/images/face_.png'\nimport { FaCog, FaRegGem, } from \"react-icons/fa\";\nimport { BsTrashFill, } from \"react-icons/bs\";\nimport Update_Video from './update_video'\nimport { useHistory } from 'react-router-dom'\nimport moment from 'moment'\n\nconst UserLogin = {}\nlet initPathName = ''\n\nconst Profile = ({ match }) => {\n    const [avatarUrl, setAvatarUrl] = useState(\"\")\n    const [loading, setLoading] = useState(true)\n    const [initNickname, setInitNickname] = useState(\"\")\n    const [profileInfo, setProfileInfo] = useState({})\n    const [videos, setVideos] = useState([]);\n    const [donateHistory, setDonateHistory] = useState([])\n    const [_, setMutate] = useState(false)\n    const history = useHistory()\n    const avatarRef = useRef(null)\n\n    const onImageChange = (event) => {\n        showLoading(true)\n        try {\n            if (event.target.files && event.target.files[0]) {\n                const reader = new FileReader();\n                reader.readAsDataURL(event.target.files[0]);\n                reader.onload = async function () {\n                    const data = {\n                        fileName: `${profileInfo.id}.png`,\n                        imageBase64: reader.result,\n                        user_id: profileInfo.id,\n                    }\n                    const result = await OnSaveAvatar(data)\n                    if (result.status === 200) {\n                        showToast('info', result.msg)\n                        setAvatarUrl(URL.createObjectURL(event.target.files[0]))\n                    } else {\n                        showToast('error', result.msg)\n                    }\n                };\n            }\n        } catch (e) { console.log(e) }\n        showLoading(false)\n    }\n    const onSaveProfile = async () => {\n        showLoading(true)\n        const result = await OnUpdateAvatar(profileInfo)\n        if (result.status === 200) {\n            showToast('info', result.msg)\n            if (initNickname !== profileInfo.nickname) {\n                setTimeout(() => window.location.href = `/profile/${profileInfo.nickname}`, 1000)\n            }\n        } else {\n            showToast('error', result.msg)\n        }\n        showLoading(false)\n    }\n    const updateTitleVideo = (index, title) => {\n        videos[index].title = title\n        setMutate(e => !e)\n    }\n    const onChangeForm = (value, stateName) => {\n        if (stateName === \"nickname\") {\n            value = value?.replace(/\\s/g, '_')?.trim()\n        }\n        setProfileInfo({ ...profileInfo, [stateName]: value })\n    }\n    const getAllVideo = async (id) => {\n        const ok = await fetch(ROOM_GET_VIDEOS, {\n            method: \"POST\",\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify({ user_id: id })\n        })\n        const result = await ok.json()\n        setVideos(result.data || [])\n    }\n    const deleteVideos = async (id, e) => {\n        showLoading(true)\n        try {\n            const result = await fetch(DELETE_VIDEO, {\n                method: \"POST\",\n                headers: {\n                    'Content-Type': 'application/json',\n                },\n                body: JSON.stringify({ video_id: id })\n            })\n            if (result.status === 200) {\n                showToast('info', \"Deleted Successfully\")\n                getAllVideo(e.streamer_id);\n            } else {\n                showToast('info', \"Delete Failed\")\n            }\n        } catch (e) { console.log(e) }\n        showLoading(false)\n    }\n    const onSubcribe = async () => {\n        showLoading(true)\n        try {\n            const data = {\n                host_id: UserLogin.id,\n                follower_id: profileInfo.id,\n                isSubscribed: profileInfo.isSubscribed,\n            }\n            const result = await SubscribeChannel(data)\n            if (result.status === 200) {\n                setProfileInfo({ ...profileInfo, isSubscribed: result?.data?.isSubscribed })\n                showToast('info', result.msg)\n            } else {\n                showToast('error', result.msg)\n            }\n        } catch (e) { console.log(e) }\n        showLoading(false)\n    }\n    const onSwitchTab = (hashId) => {\n        try {\n            switch (hashId) {\n                case \"#profile\":\n                    document.querySelector('#nav-profile-tab').click()\n                    break;\n                case \"#channel\":\n                    document.querySelector('#nav-video-tab').click()\n                    break;\n                case \"#history_donate\":\n                    document.querySelector('#nav-history-tab').click()\n                    break;\n            }\n        } catch (e) { console.log(e) }\n    }\n    const callEffect = async () => {\n        try {\n            showLoading(true)\n            setLoading(true)\n            const logIn = await GetUserInfo()\n            if (logIn?.id === undefined) {\n                setLoading(false)\n                return\n            }\n            const info = await GetProfileUser(match?.params?.nickname, logIn.id)\n            UserLogin.id = logIn?.id\n            setProfileInfo(info)\n            setInitNickname(info?.nickname || \"\")\n            setDonateHistory(await GetHistoryDonate(info.id))\n            setAvatarUrl(info?.photo ? HOST_AVATAR + info?.photo : DEFAULT_AVATAR)\n            getAllVideo(info.id);\n            showLoading(false)\n            initPathName = window.location.pathname\n            setLoading(false)\n            const hashId = window.location.hash\n            onSwitchTab(hashId)\n        } catch (e) { console.log(e) }\n    }\n    useEffect(() => {\n        callEffect()\n        return history.listen((location) => {\n            if (location.hash === window.location.hash && (location.hash !== \"\" || window.location.hash !== \"\")) {\n                if (window.location.pathname !== initPathName) {\n                    window.location.reload()\n                } else {\n                    onSwitchTab(location?.hash)\n                }\n            }\n        })\n    }, [history])\n    return (\n        <React.Fragment>\n            {UserLogin.id === undefined && !loading ? (\n                <Page404 text={\"Login Required\"} />\n            ) : (profileInfo?.id !== undefined && !loading) ? (\n                <div className=\"row\" style={{ marginTop: 20, pointerEvents: 'auto', }}>\n                    <div className=\"col-12 \">\n                        <nav>\n                            <div className=\"nav nav-tabs nav-fill\" id=\"nav-tab\" role=\"tablist\">\n                                <a onClick={() => window.location.hash = \"#profile\"} className=\"text_primary nav-item nav-link\" id=\"nav-profile-tab\" data-toggle=\"tab\" href=\"#nav-home\" role=\"tab\" aria-controls=\"nav-home\" aria-selected=\"true\">Profile</a>\n                                <a onClick={() => window.location.hash = \"#channel\"} className=\"text_primary nav-item nav-link\" id=\"nav-video-tab\" data-toggle=\"tab\" href=\"#nav-profile\" role=\"tab\" aria-controls=\"nav-profile\" aria-selected=\"false\">Videos</a>\n                                {profileInfo.id === UserLogin.id && (\n                                    <a onClick={() => window.location.hash = \"#history_donate\"} className=\"text_primary nav-item nav-link\" id=\"nav-history-tab\" data-toggle=\"tab\" href=\"#nav-contact\" role=\"tab\" aria-controls=\"nav-contact\" aria-selected=\"false\">History</a>\n                                )}\n                            </div>\n                        </nav>\n                        <div className=\"tab-content py-3 px-3 px-sm-0\" id=\"nav-tabContent\">\n                            <div className=\"tab-pane fade show active\" id=\"nav-home\" role=\"tabpanel\" aria-labelledby=\"nav-profile-tab\" style={{ marginTop: 20, }}>\n                                <div style={{ display: 'flex', justifyContent: \"center\", }}>\n                                    <div style={left_info}>\n                                        <div style={left_info_container}>\n                                            <div style={formGroup}>\n                                                <label>Username:</label>\n                                                <input value={profileInfo?.username || \"\"} style={textinput} disabled />\n                                            </div>\n                                            <div style={formGroup}>\n                                                <label>Email address:</label>\n                                                <input value={profileInfo?.email || \"\"} style={textinput} disabled />\n                                            </div>\n                                            <div style={formGroup}>\n                                                <label>Full name:</label>\n                                                <input disabled={(profileInfo.id !== UserLogin.id) ? true : false} value={profileInfo?.fullname || \"\"} onChange={(e) => onChangeForm(e.target.value, 'fullname')} style={textinput} />\n                                            </div>\n                                            <div style={formGroup} >\n                                                <label>Nickname:</label>\n                                                <input disabled={(profileInfo.id !== UserLogin.id) ? true : false} value={profileInfo?.nickname || \"\"} onChange={(e) => onChangeForm(e.target.value, 'nickname')} style={textinput} />\n                                            </div>\n                                        </div>\n                                        <textarea hidden={(profileInfo.id !== UserLogin.id) ? true : false} value={profileInfo?.bio || \"\"} onChange={(e) => onChangeForm(e.target.value, 'bio')} placeholder=\"bio\" style={{ width: '100%', padding: 10, height: 100, marginTop: 15, }} />\n                                        <button hidden={(profileInfo.id !== UserLogin.id) ? true : false} onClick={onSaveProfile} className=\"btn btn-primary\" style={{ width: '100%', marginTop: 15, }}>Save</button>\n                                        {profileInfo.id !== UserLogin.id && (\n                                            <button onClick={onSubcribe} className=\"btn btn-primary\" style={{ width: '100%', marginTop: 25, }}>\n                                                <FaRegGem />  {profileInfo.isSubscribed > 0 ? \"Unfollow\" : \"Follow\"}\n                                            </button>\n                                        )}\n                                    </div>\n                                    <div style={right_info}>\n                                        <div style={{ display: 'flex', justifyContent: 'center', alignItems: 'center', }}>\n                                            <div style={{ position: 'relative', width: 150, height: 150, }}>\n                                                <img src={avatarUrl} alt=\"\" style={{ width: '100%', height: '100%', borderRadius: \"50%\", objectFit: 'cover', }} />\n                                                <button hidden={(profileInfo.id !== UserLogin.id) ? true : false} onClick={() => avatarRef?.current?.click()} style={{ position: 'absolute', top: 0, left: 0, width: '100%', height: '100%', opacity: 0, }} />\n                                                <input ref={avatarRef} type=\"file\" onChange={onImageChange} style={{ display: 'none', }} />\n                                            </div>\n                                        </div>\n                                        <div style={{ marginTop: 10, display: \"flex\", justifyContent: 'space-around', alignItems: 'center', }}>\n                                            <div style={overview}>\n                                                <p style={overview_title}>Followers</p>\n                                                <p style={overview_value}>{profileInfo?.followers || \"0\"}</p>\n                                            </div>\n                                            <div style={overview}>\n                                                <p style={overview_title}>Videos</p>\n                                                <p style={overview_value}>{profileInfo?.videos || \"0\"}</p>\n                                            </div>\n                                            {profileInfo.id === UserLogin.id && (\n                                                <div style={overview}>\n                                                    <p style={overview_title}>Token</p>\n                                                    <p style={overview_value}>{profileInfo?.token || \"0\"}</p>\n                                                </div>\n                                            )}\n                                        </div>\n                                        <div style={{ display: 'flex', justifyContent: 'center' }}>\n                                            <p style={{ wordBreak: 'break-all', }}>{profileInfo?.bio}</p>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n                            <div className=\"tab-pane fade\" id=\"nav-profile\" role=\"tabpanel\" aria-labelledby=\"nav-video-tab\">\n                                <div style={{ padding: 20, width: '95%', margin: 'auto', marginTop: 5, }}>\n                                    {videos?.length > 0 ? (\n                                        <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fill, minmax(300px,auto))', gridGap: 15, justifyContent: 'center', }}>\n                                            {videos.map((e, idx) => (\n                                                <div key={idx} style={{ display: 'flex', flexDirection: 'column', borderRadius: 10, width: 340, }}>\n                                                    <Link to={`/video/${profileInfo.nickname}?id=${e.id}`}>\n                                                        <img src={e.thumbnail ? HOST_IMAGE + e.thumbnail : DEFAULT_THUMBNAIL} alt=\"\" style={{ width: 340, height: 210, borderRadius: 5, objectFit: 'cover', }} />\n                                                    </Link>\n                                                    <div style={{ display: 'flex', paddingLeft: 7, marginTop: 10, widht: '100%', }}>\n                                                        <Link to={`/video/${profileInfo.nickname}?id=${e.id}`} style={{ display: 'flex', width: '90%', }}>\n                                                            <img src={e.photo ? HOST_AVATAR + e.photo : DEFAULT_AVATAR} alt=\"\" style={{ width: 35, height: 35, borderRadius: '50%', marginRight: 10, objectFit: 'cover', }} />\n                                                            <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'flex-start', }}>\n                                                                <span className=\"text_primary\" style={{ fontWeight: 'bold', fontSize: 17, wordBreak: 'break-all', lineHeight: '20px', }}>{e.title?.length > 30 ? e.title?.slice(0, 20) + \"...\" : e.title}</span>\n                                                                <span className=\"text_primary\" style={{ fontSize: 14, }}>{e.nickname}</span>\n                                                                <span className=\"text_primary\" style={{ fontSize: 12, fontStyle: 'itatlic', }}>{moment(e.created_at).startOf('min').fromNow()}</span>\n                                                            </div>\n                                                        </Link>\n                                                        {profileInfo.id === e.streamer_id && (\n                                                            <div className=\"dropdown\">\n                                                                <div data-toggle=\"dropdown\" style={{ background: 'transparent', outline: 'none', border: 'none', color: 'lightblue', cursor: 'pointer', }}>\n                                                                    <FaCog className=\"text_primary\" />\n                                                                </div>\n                                                                <div className=\"dropdown-menu\" style={{ background: 'ivory', }}>\n                                                                    <Update_Video videos={e} index={idx} updateTitleVideo={updateTitleVideo} />\n                                                                    <div onClick={() => deleteVideos(e.id, e)} className=\"dropdown-item\" style={{ display: 'flex', alignItems: 'center', cursor: 'pointer', }}>\n                                                                        <BsTrashFill style={{ marginRight: 5, }} /> Remove\n                                                                    </div>\n                                                                </div>\n                                                            </div>\n                                                        )}\n                                                    </div>\n                                                </div>\n                                            ))}\n                                        </div>\n                                    ) : (\n                                        <Page404 text={\"No Videos Found\"} />\n                                    )}\n                                </div>\n                            </div>\n                            <div className=\"tab-pane fade\" id=\"nav-contact\" role=\"tabpanel\" aria-labelledby=\"nav-history-tab\" style={{ marginTop: 20, }}>\n                                <div className=\"col-10 m-auto\" style={{ background: 'rgb(236, 240, 241)', borderRadius: 10, padding: 15, }}>\n                                    <BootstrapTable keyField='id' data={donateHistory} columns={donateHistoryTableColumns}\n                                        pagination={paginationFactory(donateHistoryOptions)} hover condensednoDataIndication=\"Table is Empty\" />\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            ) : !loading && (\n                <Page404 text={\"No User Found\"} />\n            )}\n        </React.Fragment>\n    )\n}\nexport default Profile\n\nconst left_info = {\n    borderRadius: 10,\n    boxShadow: \"1px 1px 20px #aaaaaa\",\n    background: \"#ecf0f1\",\n    width: '45%',\n    padding: 20,\n    marginRight: 20,\n}\nconst right_info = {\n    borderRadius: 10,\n    boxShadow: \"1px 1px 20px #aaaaaa\",\n    padding: 20,\n    background: \"#ecf0f1\",\n    width: '35%',\n}\nconst left_info_container = {\n    display: 'grid',\n    gridTemplateColumns: 'repeat(auto-fill, minmax(48%,auto))',\n    gridGap: 10,\n    alignItems: 'center',\n    justifyContent: 'center',\n}\nconst formGroup = {\n    display: 'flex',\n    flexDirection: 'column',\n    fontWeight: \"bold\",\n    width: '100%',\n}\nconst textinput = {\n    borderRadius: 5,\n    padding: 5,\n    border: \"1px solid #bdc3c7\",\n}\nconst overview = { width: '33%', display: 'flex', flexDirection: 'column', justifyContent: 'center', alignItems: 'center', lineHeight: 1, }\nconst overview_title = { fontSize: 16, fontWeight: 'bold', }\nconst overview_value = { fontSize: 15, }\n\nconst donateHistoryTableColumns = [{\n    dataField: 'STT',\n    text: 'STT'\n}, {\n    dataField: 'sender',\n    text: 'Tn ngi gi '\n}, {\n    dataField: 'receiver',\n    text: 'Tn ngi nhn'\n}, {\n    dataField: 'token',\n    text: 'S token'\n},\n{\n    dataField: 'created_at',\n    text: 'Ngy gi'\n},\n];\nconst donateHistoryOptions = {\n    paginationSize: 4,\n    pageStartIndex: 1,\n    alwaysShowAllBtns: true,\n    withFirstAndLast: true,\n    hideSizePerPage: true,\n    hidePageListOnlyOnePage: false,\n    firstPageText: 'First',\n    lastPageText: 'Last',\n    showTotal: true,\n    disablePageTitle: true,\n    sizePerPageList: [{ text: '5', value: 5 },\n    { text: '10', value: 10 },]\n}","import React, { useEffect, useState, } from \"react\";\nimport Particles from \"react-particles-js\";\n\nconst Canvas = () => {\n    const [dims, setDims] = useState({})\n    useEffect(() => {\n        updateWindowDimensions()\n        window.addEventListener(\"resize\", updateWindowDimensions);\n        return () => {\n            window.removeEventListener(\"resize\", updateWindowDimensions);\n        }\n    }, [])\n    const updateWindowDimensions = () => {\n        setDims({\n            width: `${window.innerWidth}px`,\n            height: `${window.innerHeight}px`\n        });\n    };\n    return (\n        <Particles width={dims.width} height={dims.height}\n            style={{ position: 'fixed', }}\n            params={{\n                \"particles\": {\n                    \"number\": {\n                        \"value\": 150,\n                        \"density\": {\n                            \"enable\": false\n                        }\n                    },\n                    \"size\": {\n                        \"value\": 3,\n                        \"random\": true,\n                        \"anim\": {\n                            \"speed\": 5,\n                            \"size_min\": 0.5\n                        }\n                    },\n                    \"line_linked\": {\n                        \"enable\": false\n                    },\n                    \"move\": {\n                        \"random\": true,\n                        \"speed\": 2,\n                        \"direction\": \"top\",\n                        \"out_mode\": \"out\"\n                    }\n                },\n                \"interactivity\": {\n                    \"events\": {\n                        \"onhover\": {\n                            \"enable\": false,\n                            \"mode\": \"bubble\"\n                        },\n                        \"onclick\": {\n                            \"enable\": true,\n                            \"mode\": \"repulse\"\n                        }\n                    },\n                    \"modes\": {\n                        \"bubble\": {\n                            \"distance\": 300,\n                            \"duration\": 10,\n                            \"size\": 0,\n                            \"opacity\": 0,\n                        },\n                        \"repulse\": {\n                            \"distance\": 400,\n                            \"duration\": 10,\n                        }\n                    }\n                }\n            }} />\n    );\n}\nexport default Canvas;\n","import React from 'react'\nimport { BrowserRouter as Router, Switch, Route, } from \"react-router-dom\";\nimport Streamer from './components/stream/Streamer'\nimport Viewer from './components/stream/Viewer'\nimport Home from './components/Home'\nimport Header from './components/controls/Header'\nimport ResetPassword from './components/controls/ResetPassword'\nimport Footer from './components/controls/Footer'\nimport Page404 from './components/controls/Page404'\nimport StripeContainer from './components/payment/StripeContainer'\nimport PurchaseOptions from './components/payment/PurchaseOptions'\nimport VideoStorage from './components/videostorage/VideoStorage'\nimport Video from './components/videostorage/Video'\nimport ListUsers from './components/listusers/ListUsers'\nimport Profile from './components/profile/Profile'\nimport Donation from './components/donation/Donation'\nimport Toast from './components/controls/Toast'\nimport Loading from './components/controls/Loading'\nimport Sound from './components/controls/Sound'\nimport Particles from './components/controls/Particles'\nimport './App.css'\nimport './styling/list_video.css'\nimport 'react-toastify/dist/ReactToastify.css';\nimport \"react-responsive-modal/styles.css\";\nimport 'react-tabs/style/react-tabs.css';\nimport 'video.js/dist/video-js.css';\n\nfunction App() {\n  return (\n    <Router>\n      <Route path=\"/purchase_options\" component={PurchaseOptions} />\n      <Route path=\"/buy_tokens\" component={StripeContainer} />\n      <div style={{ display: 'flex', flexWrap: 'nowrap', width: '100%', height: '100%' }}>\n        <Toast />\n        <Loading />\n        <Sound />\n        <div style={{ display: 'flex', flexDirection: 'column', justifyContent: 'space-between', width: '100%', height: '100%', }}>\n          <Particles />\n          <Header />\n          <div style={{ zIndex: 1000, pointerEvents: 'none', }}>\n            <Switch>\n              <Route path=\"/\" exact component={Home} />\n              <Route path=\"/donation\" component={Donation} />\n              <Route path=\"/videos\" component={VideoStorage} />\n              <Route path=\"/members\" component={ListUsers} />\n              <Route path=\"/reset_password\" component={ResetPassword} />\n              <Route path=\"/streamer\" component={Streamer} />\n              <Route path=\"/profile/:nickname\" component={Profile} />\n              <Route path=\"/video/*\" component={Video} />\n              <Route path=\"/user/*\" component={Viewer} />\n              <Route path=\"*\" component={() => <Page404 text=\"Page Not Found\" />} />\n            </Switch>\n          </div>\n          <Footer />\n        </div>\n      </div>\n    </Router>\n  );\n}\nexport default App;","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport configureStore from './store/configureStore';\nimport { Provider } from 'react-redux';\nconst store = configureStore();\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n","import { applyMiddleware, combineReducers, compose, createStore } from 'redux';\nimport thunk from 'redux-thunk';\nimport { routerReducer, routerMiddleware } from 'react-router-redux';\nimport * as RoomController from './RoomController'\nimport * as CredentialController from './CredentialController'\n\nexport default function configureStore(history, initialState) {\n    const reducers = {\n        roomTags: RoomController.reducer,\n        credentials: CredentialController.reducer,\n    };\n    const middleware = [\n        thunk,\n        routerMiddleware(history)\n    ];\n    const enhancers = [];\n    const isDevelopment = process.env.NODE_ENV === 'development';\n    if (isDevelopment && typeof window !== 'undefined' && window.devToolsExtension) {\n        enhancers.push(window.devToolsExtension());\n    }\n    const rootReducer = combineReducers({\n        ...reducers,\n        routing: routerReducer\n    });\n    return createStore(\n        rootReducer,\n        initialState,\n        compose(applyMiddleware(...middleware), ...enhancers)\n    );\n}\n"],"sourceRoot":""}